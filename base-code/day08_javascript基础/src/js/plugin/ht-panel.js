!function(l,r,y){"use strict";var P="ht",V=l[P],j=V.Default,_=j.isTouchable,h=V.Color,q="px",Z="0",X="innerHTML",v="className",L="position",K="absolute",i="width",u="height",b="left",I="top",W="right",d="bottom",M="max-width",T="max-height",D=null,k="none",S="",A=l.parseInt,Q=l.setTimeout,R=j.getInternal(),Y=j.animate,w=h.titleIconBackground,O=function(){return document},C=function(j){return O().createElement(j)},t=function(){return C("div")},f=function(){return C("canvas")},m=function(m,t,_){m.style.setProperty(t,_,D)},J=function(x,N){return x.style.getPropertyValue(N)},a=function(N,v){N.appendChild(v)},g=function(S,N){S.removeChild(N)},e=j.eventListenerOptionsFalse,s=(j.eventListenerOptionsTrue,function(J,y,u,w){J.addEventListener(y,u,w?e:e)}),E=function(M){var h=M.scrollWidth,k=M.scrollHeight;return M===O().body&&(h=Math.max(h,O().documentElement.scrollWidth),k=Math.max(k,O().documentElement.scrollHeight)),{width:h,height:k}},p=function(X){var y=X.touches[0];return y?y:X.changedTouches[0]};R.addMethod(j,{panelExpandIcon:{width:16,height:16,comps:[{type:"triangle",rect:[4,4,10,8],background:w,rotation:3.14}]},panelCollapseIcon:{width:16,height:16,comps:[{type:"triangle",rect:[4,4,10,8],background:w}]},panelLockIcon:{width:100,height:100,comps:[{type:"roundRect",rect:[10,50,80,40],borderWidth:10,borderColor:w},{type:"shape",points:[37,45,37,20,37,13,43,13,63,13,69,13,70,19,70,44],segments:[1,2,3,2,3,2],borderWidth:10,borderColor:w}]},panelUnLockIcon:{width:100,height:100,comps:[{type:"roundRect",rect:[10,50,80,40],borderWidth:10,borderColor:w},{type:"shape",points:[37,45,37,20,37,13,43,13,63,13,69,13,70,19,70,26],segments:[1,2,3,2,3,2],borderWidth:10,borderColor:w}]},panelMinimizeIcon:{width:100,height:100,comps:[{type:"shape",points:[10,35,35,35,35,10],segments:[1,2,2],borderWidth:8,borderColor:w},{type:"shape",points:[90,35,65,35,65,10],segments:[1,2,2],borderWidth:8,borderColor:w},{type:"shape",points:[10,65,35,65,35,90],segments:[1,2,2],borderWidth:8,borderColor:w},{type:"shape",points:[65,90,65,65,90,65],segments:[1,2,2],borderWidth:8,borderColor:w}]},panelRestoreIcon:{width:300,height:300,comps:[{type:"rect",rect:[10,24,268,56],background:w},{type:"rect",rect:[10,118,268,56],background:w},{type:"rect",rect:[10,213,268,56],background:w}]},panelTitleLabelColor:j.labelSelectColor,panelTitleLabelFont:j.labelFont,panelContentLabelFont:j.labelFont,panelTitleBackground:h.titleBackground,panelSeparatorWidth:1,panelSeparatorColor:y},!0);var n=V.widget.Panel=function(q){var g=this,k=g._view=R.createView(null,g);g.$1i=0,g.$18i=new V.Notifier,g.$2i="leftTop",m(k,I,Z),m(k,b,Z),m(k,L,K),m(k,"overflow","hidden"),g._interactor=new z(g),g.setConfig(q),g.addEventListener(function(P){var V=g.getPanelConfig(P.id),q=V.content;("beginRestore"===P.kind||"betweenResize"===P.kind||"endToggle"===P.kind)&&(q&&q.invalidate&&q.invalidate(),V.items&&V.items.forEach(function(t){t&&t.content&&t.content.invalidate&&t.content.invalidate()}))})};j.def(n,r,{ms_v:1,_dragContainment:"parent",setConfig:function(I){function R(B){B.expanded=!B.expanded,j.togglePanel(B.id,!0,!0)}if(I){for(var j=this,b=j._view.parentNode;this._view.children.length;)this._view.removeChild(this._view.children[0]);j._config=I,j.$35i=[],I.expanded==D&&(I.expanded=I.expand!=D?I.expand:!0);var s=j._view,o=j.$24i(I,s,!0),G=o[2],c=I.width;j.$35i.push(o[1]),I.items&&I.items.forEach(function(p){p.expanded==D&&(p.expanded=p.expand!=D?p.expand:!0);var n=j.$24i(p,G.children[0]);j.$35i.push(n[1])});var T=t();m(T,i,10+q),m(T,u,10+q),m(T,L,K),m(T,d,Z),m(T,W,Z),T[v]="resize-area",a(s,T),j.$10i(),I.flowLayout&&m(s,L,"relative"),m(s,"opacity",Z),a(O().body,s),c==D&&(c=s.offsetWidth),m(s,i,c+q),m(s,M,c+q);var Q=I.content;Q&&Q.isSelfViewEvent&&(Q.setX(0),Q.setY(0),Q.setWidth(c-2*(I.borderWidth||0)),Q.setHeight(I.contentHeight)),I.items&&I.items.forEach(function(m){R(m)}),I.buttons&&I.buttons.indexOf("toggle")<0||R(I),I.minimized==D&&I.minimize!=D&&(I.minimized=I.minimize),I.minimized&&I.minimizable!==!1&&j.minimize(!0),g(O().body,s),m(s,"opacity",S),b&&a(b,s),j.iv()}},getPanelConfig:function(x){var h=this,t=h._config,y=t.items;if(t.id===x)return t;if(y)for(var Z=0;Z<y.length;Z++){var O=y[Z];if(O.id===x)return O}},getPanelView:function(f){for(var k=this,j=k.$35i,U=0;U<j.length;U++){var c=j[U],b=c.parentNode;if(b.$15i===f)return b}},setDragContainment:function(y){this._dragContainment=y},getDragContainment:function(){return this._dragContainment},$20i:function(){var o=this._config,l=o.restoreIconSize||24;return l},$5i:function(n){var m=n.titleIconSize||16;return _&&(m*=1.2),m},$4i:function(c){var B=c.titleHeight||j.widgetTitleHeight;return B},setTitle:function(R,L){if(L==D&&(L=this._config.id),L!=D){var z=this.getPanelConfig(L),Q=this.getPanelView(L);z.title=R,Q.querySelector(".panel-title span").innerHTML=R}},setInnerPanel:function(i){var E,I,T=this,V=i.id,y=T.$35i,u=!1;if(i.expanded==D&&(i.expanded=!0),V!=D){var A=T.getPanelConfig(V);if(A){u=!0;var W,R=T.getPanelView(V),q=R.parentNode,O=R.children[0];if(R!==T._view){T.$11i();for(W in A)delete A.key;for(W in i)A[W]=i[W];E=T.$24i(i,q,!1,R),I=E[1],q.removeChild(R);for(var N=0;N<y.length;N++)if(y[N]===O){y.splice(N,1,I);break}T.$12i(),A.expanded=!A.expanded,T.togglePanel(A.id,!0,!0),T.iv()}}}if(!u){T.$11i(),E=T.$24i(i,T._view.children[1]),I=E[1],y.push(I),T._config.items||(T._config.items=[]);var v=T._config.items;if(v.push(i),T.$12i(),v.length>1){var Y=v[v.length-2],j=T.getPanelView(Y.id).children[0];m(j,"border-bottom",T.$55i(Y))}i.expanded=!i.expanded,T.togglePanel(i.id,!0,!0),T.iv()}},removeInnerPanel:function(t){var F,T=this,G=-1,z=T._config.items;if(z)for(F=0;F<z.length;F++){var y=z[F];if(y.id===t){G=F;break}}if(T.$11i(),G>=0){var B=T.$35i,_=T.getPanelView(t),O=_.children[0];for(F=0;F<B.length;F++)if(B[F]===O){B.splice(F,1);break}z.splice(G,1),_.parentNode.removeChild(_)}if(T.$12i(),z.length>0){var x=z[z.length-1],$=T.getPanelView(x.id).children[0];m($,"border-bottom",T.$55i(x))}},$6i:function(V){m(V,"cursor","pointer"),m(V,"display","inline-block"),m(V,"margin-right",(_?8:4)+q),m(V,"vertical-align",I)},$24i:function(T,r,e,s){var l=this,B=l._config.flowLayout,d=e?r:t(),g=l.$50i(T),y=l.$3i(T,e);d[v]="ht-widget-panel"+(e?" outer-panel":" inner-panel"),T.borderWidth==D&&(T.borderWidth=e?2:0);var u=T.borderWidth;if(u="0 "+u+q+" "+u+q+" "+u+q+" ",m(d,"border-width",u),m(d,"border-color",T.titleBackground||j.panelTitleBackground),m(d,"border-style","solid"),a(d,y),a(d,g),e||(s?r.insertBefore(d,s):a(r,d)),!B&&e&&T.minimizable!==!1){var U=f(),N=l.$20i(),C=T.restoreToolTip;R.setCanvas(U,N,N),U[v]="control-button button-minimize button-minimize-restore",l.$6i(U),m(U,"display","none"),a(r,U),U.title=C||""}var A=T.panelBackground||T.titleBackground||j.panelTitleBackground;if(m(d,"background-color",A),T.id==D){for(var P=l.$1i++;l.getPanelConfig(P);)P=l.$1i++;T.id=P}return d.$15i=T.id,T.width&&(d.style.width=T.width+q),[d,y,g]},$9i:function(U){var A=f();A[v]="control-button button-toggle button-toggle-expand",A.title=U.toggleToolTip||"";var g=this.$4i(U),C=this.$5i(U);return this.$6i(A),R.setCanvas(A,C,g),A},$8i:function(G){var l=f(),q="control-button button-independent-switch";l[v]=G.independent===!0?q+" button-independent-switch-on":q+" button-independent-switch-off",l.title=G.independentSwitchToolTip||"";var I=this.$4i(G),o=this.$5i(G);return this.$6i(l),R.setCanvas(l,o,I),l},$7i:function(N){var K=f();K[v]="control-button button-minimize button-minimize-minimize",K.title=N.minimizeToolTip||"";var U=this.$4i(N),Z=this.$5i(N);return this.$6i(K),R.setCanvas(K,Z,U),K},$55i:function(I){var S=this._config,M=S.items,P=I.separatorWidth||j.panelSeparatorWidth,Z=I.titleBackground||j.panelTitleBackground,E=I.expanded!==!1?Z:I.separatorColor||j.panelSeparatorColor||j.brighter(Z);return(S===I||M&&M.indexOf(I)===M.length-1)&&(P=0),P+q+" solid "+E},$3i:function(z,p){var n=this,N=n._config.flowLayout,P=t(),_=t(),e=n.$4i(z),A=z.titleBackground,B=z.titleColor,E=z.titleIcon,M=z.buttons;if(P[v]="panel-title",m(P,L,"relative"),m(P,"background",A||j.panelTitleBackground),m(P,"color",B||j.panelTitleLabelColor),m(P,I,Z),m(P,"box-sizing","border-box"),m(P,"-moz-box-sizing","border-box"),m(P,"padding","0 5px 0 0"),m(P,i,"100%"),m(P,"cursor","default"),m(P,"white-space","nowrap"),m(P,"font",j.panelTitleLabelFont),E){var x=f();x[v]="control-button panel-title-icon";var V=n.$4i(z),D=n.$5i(z);n.$6i(x),R.setCanvas(x,D,V),a(P,x)}var o=C("span");m(o,"display","inline-block"),m(o,"margin-left","5px"),o[X]="<span>"+z.title+"</span>",a(P,o),m(P,"line-height",e+q),_[v]="panel-title-controls",m(_,L,K),m(_,b,Z),m(_,W,5+q),m(_,I,Z),m(_,d,Z),m(_,"text-align",W);var k=function(){var x=n.$9i(z);a(_,x)},U=function(){if(!N&&p&&z.minimizable!==!1){var L=n.$7i(z);a(_,L)}},Y=function(){if(!p){var i=n.$8i(z);a(_,i)}},y=function(K){var V=f();V[v]="control-button custombutton-"+K.name,V.title=K.toolTip||"",V._action=K.action;var G=n.$4i(z),c=n.$5i(z);n.$6i(V),R.setCanvas(V,c,G),a(_,V)};if(M)for(var r=0;r<M.length;r++){var u=M[r];"string"==typeof u?"minimize"===u?U():"independentSwitch"===u?Y():"toggle"===u&&k():"object"==typeof u&&y(u)}else U(),k();return a(P,_),P},$50i:function(x){var Q=t(),h=x.contentHeight,Z=t();m(Z,L,"relative"),Q[v]="panel-body",m(Q,"overflow","hidden");var n=x.contentBackground;if(n===y&&(n="white"),m(Q,"background",n),m(Q,"font",j.panelContentLabelFont),a(Q,Z),x.content){var W,N=x.content;N.getView?(a(Z,N.getView()),W=Z.children[0]):N instanceof Element?(a(Z,N),W=Z.children[0]):Z[X]=N,N.isSelfViewEvent||W&&(m(W,i,"100%"),m(W,u,"100%")),h&&m(Z,u,h+q)}return Q},$10i:function(){var Z=this,_=Z._config,J=Z._view,c=J.querySelector(".resize-area").style;c.display=_.flowLayout||_.minimized===!0||_.expanded===!1?k:"block"},$11i:function(){var F=this._view,B=F.children[1];this.$13i>=0?this.$13i++:this.$13i=1,m(B,T,S),m(F,M,S)},$12i:function(){var B=--this.$13i;if(0===B){var O=this._view,I=O.children[1];m(I,T,I.scrollHeight+q),m(O,M,O.offsetWidth+q)}},$14i:function(){var H=this._view,v=H.children[0],s=v.children[1].children,l=this._config,O=0;H.$26i=H.offsetWidth,O+=v.children[0].offsetWidth,l.titleIcon&&(O+=v.children[1].offsetWidth,s=v.children[2].children);for(var w=0;w<s.length;w++){var Y=s[w];O+=Y.offsetWidth+5}H.$51i=O+15},togglePanel:function(r,V,j){function P(W){var q=W.target,L=q.parentNode,X=B.getPanelConfig(L.$15i);delete L.$19i,q!==f&&B.$12i(),B.$18i.fire({kind:"endToggle",target:B,id:X.id})}for(var B=this,u=B._view,f=u.children[1],N=D,g=B.$35i,l=g.length,e=B._config.exclusive,K=B.$2i,C=[],w=B._config.narrowWhenCollapse,X=0;l>X;X++){var E=g[X],_=E.parentNode,b=_.$15i,d=B.getPanelConfig(b);b===r&&(N=_),!V&&e&&d.expanded&&_!==u&&b!==r&&d.independent!==!0&&C.push(_)}if(N&&!N.$19i){N.$19i=!0;var I=N.children[1],J=N.querySelector(".button-toggle"),z=B.getPanelConfig(N.$15i);if(!J)return;N===u||z.expanded||z.independent===!0||C.forEach(function(s){B.togglePanel(s.$15i,!0)}),N!==u&&B.$11i();var H=200;if(j&&(H=0),B.$18i.fire({kind:"beginToggle",target:B,id:N.$15i}),z.expanded){var A=function(){J[v]="control-button button-toggle",J[v]+=K.indexOf("Bottom")>=0?" button-toggle-expand":" button-toggle-collapse",m(I,i,I.clientWidth+q),z.expanded=!1,m(N.children[0],"border-bottom",B.$55i(z)),Y(I).duration(H).set("opacity",Z).set(T,Z).end(P),w&&N===u&&Y(N).duration(H).set(M,N.$51i+q).end(),N[v]+=" panel-collapse",Y(N).duration(H).set("padding-bottom",Z).end(),B.$28i(z,!0),B.$10i()};w&&N===u&&B.$14i(),A()}else J[v]="control-button button-toggle",J[v]+=K.indexOf("Bottom")>=0?" button-toggle-collapse":" button-toggle-expand",m(I,i,S),z.expanded=!0,m(N.children[0],"border-bottom",B.$55i(z)),Y(I).duration(H).set("opacity","1").set(T,I.scrollHeight+q).end(P),w&&N===u&&Y(N).duration(H).set(M,(N.$26i||N.offsetWidth)+q).end(),N[v]=N[v].replace(" panel-collapse",S),Y(N).duration(H).end(),B.$28i(z,!0),B.$10i()}},$16i:function(){var N=this._view,Z=N.$22i,e=N.$23i,x=this.$2i;return Z==D&&(x.indexOf(b)>=0?Z=N.$22i=0:x.indexOf(W)>=0&&(Z=N.$22i=100)),e==D&&(x.indexOf("Top")>=0?e=N.$23i=0:x.indexOf("Bottom")>=0&&(e=N.$23i=100)),[Z,e]},$25i:function(){var n=this,T=n._view,N=T.$21i,c=n.$20i(),H=n.$16i(),z=H[0],p=H[1],Q=n.$2i;T.children[0].style.display=k,T.children[1].style.display=k,T.children[2].style.display=S,m(T,"padding",Z),m(T,M,c+q),"leftTop"===Q?(m(T,b,A(J(T,b))+(N.width-c)*z/100+q),m(T,I,A(J(T,I))+(N.height-c)*p/100+q)):"leftBottom"===Q?(m(T,b,A(J(T,b))+(N.width-c)*z/100+q),m(T,d,A(J(T,d))+(N.height-c)*(1-p/100)+q)):"rightTop"===Q?(m(T,W,A(J(T,W))+(N.width-c)*(1-z/100)+q),m(T,I,A(J(T,I))+(N.height-c)*p/100+q)):"rightBottom"===Q&&(m(T,W,A(J(T,W))+(N.width-c)*(1-z/100)+q),m(T,d,A(J(T,d))+(N.height-c)*(1-p/100)+q)),T[v]+=" panel-minimized",n.$18i.fire({kind:"endMinimize",target:n,id:T.$15i})},$17i:function(){var T=this,Y=T._config,l=T._view;m(l,"-webkit-transform",S),m(l,"-ms-transform",S),m(l,"transform",S),Y.minimized?T.$25i():(T.$18i.fire({kind:"endRestore",target:T,id:Y.id}),l[v]=l[v].replace(" panel-minimized",S)),delete l.$19i},minimize:function(V){var p=this,f=p._view;if(!f.$19i&&f.children[0].style.display!==k){var J=p._config,X=f.getBoundingClientRect(),g=p.$20i(),A=X.width,S=X.height,I=g/A,P=g/S,y=p.$16i(),e=y[0],M=y[1];f.$52i=I,f.$53i=P,f.$21i=X,p.$18i.fire({kind:"beginMinimize",target:p,id:f.$15i});var s=200;V&&(s=0),J.minimized=!0,f.$19i=!0,J.expanded&&(f.$26i=f.offsetWidth);var H=e+"% "+M+"%";m(f,"-webkit-transform-origin",H),m(f,"-ms-transform-origin",H),m(f,"transform-origin",H),Y(f).duration(s).scale(I,P).end(function(){p.$17i()}),p.$10i()}},restore:function(){var x,a,t,r,O,G,j,S,C,V,N,_,w=this,p=w._view,K=p.parentNode,$=w._config;if(!p.$19i&&$.minimized){var H=p.$21i,o=p.$52i,h=p.$53i,F=($.borderWidth+q,w.$20i()),v=E(K),L=w.$2i;"leftTop"===L?(x=A(J(p,b)),t=A(J(p,I)),O=x,j=t,C=x+H.width-v.width,V=t+H.height-v.height,C>0&&(C>=x?x=0:x-=C),V>0&&(V>=t?t=0:t-=V),N=100*((O-x)/(H.width-F)),_=100*((j-t)/(H.height-F)),m(p,b,x+q),m(p,I,t+q)):"leftBottom"===L?(x=A(J(p,b)),r=A(J(p,d)),O=x,S=r,C=x+H.width-v.width,V=r+H.height-v.height,C>0&&(C>=x?x=0:x-=C),V>0&&(V>=r?r=0:r-=V),N=100*((O-x)/(H.width-F)),_=100*(1-(S-r)/(H.height-F)),m(p,b,x+q),m(p,d,r+q)):"rightTop"===L?(a=A(J(p,W)),t=A(J(p,I)),G=a,j=t,C=a+H.width-v.width,V=t+H.height-v.height,C>0&&(C>=a?a=0:a-=C),V>0&&(V>=t?t=0:t-=V),N=100*(1-(G-a)/(H.width-F)),_=100*((j-t)/(H.height-F)),m(p,W,a+q),m(p,I,t+q)):"rightBottom"===L&&(a=A(J(p,W)),r=A(J(p,d)),G=a,S=r,C=a+H.width-v.width,V=r+H.height-v.height,C>0&&(C>=a?a=0:a-=C),V>0&&(V>=r?r=0:r-=V),N=100*(1-(G-a)/(H.width-F)),_=100*(1-(S-r)/(H.height-F)),m(p,W,a+q),m(p,d,r+q)),p.children[0].style.display="block",p.children[1].style.display="block",p.children[2].style.display=k,m(p,"-webkit-transform","scale("+o+", "+h+")"),m(p,"-ms-transform","scale("+o+", "+h+")"),m(p,"transform","scale("+o+", "+h+")"),p.$22i=N,p.$23i=_,m(p,"-webkit-transform-origin",N+"% "+_+"%"),m(p,"-ms-transform-origin",N+"% "+_+"%"),m(p,"transform-origin",N+"% "+_+"%"),$.narrowWhenCollapse&&!$.expanded?m(p,M,p.$51i+q):m(p,M,p.$26i+q),w.$18i.fire({kind:"beginRestore",target:w,id:p.$15i}),p.$19i=!0,$.minimized=!1,Q(function(){Y(p).scale(1,1).end(function(){w.$17i()})},30),w.$10i()}},addEventListener:function(Z,H,z){this.$18i.add(Z,H,z)},removeEventListener:function(h,l){this.$18i.remove(h,l)},setPosition:function(G,i){var j=this._view,s=this.$2i;"leftTop"===s?(m(j,b,G+q),m(j,I,i+q),m(j,W,S),m(j,d,S)):"leftBottom"===s?(m(j,b,G+q),m(j,d,i+q),m(j,W,S),m(j,I,S)):"rightTop"===s?(m(j,W,G+q),m(j,I,i+q),m(j,b,S),m(j,d,S)):"rightBottom"===s&&(m(j,W,G+q),m(j,d,i+q),m(j,b,S),m(j,I,S)),delete j.$22i,delete j.$23i},getPosition:function(){var E=this._view,Z=this.$2i;return"leftTop"===Z?{x:A(J(E,b)),y:A(J(E,I))}:"leftBottom"===Z?{x:A(J(E,b)),y:A(J(E,d))}:"rightTop"===Z?{x:A(J(E,W)),y:A(J(E,I))}:"rightBottom"===Z?{x:A(J(E,W)),y:A(J(E,d))}:void 0},setPositionRelativeTo:function(_){var S=this,q=S._view.querySelectorAll(".button-toggle"),J="control-button button-toggle",s=S.getPosition();S.$2i=_,S.setPosition(s.x,s.y);for(var Q=0;Q<q.length;Q++){var n=q[Q],d=S.getPanelConfig(n.parentNode.parentNode.parentNode.$15i);n[v]=d.expanded?_.indexOf("Bottom")>=0?J+" button-toggle-collapse":J+" button-toggle-expand":_.indexOf("Bottom")>=0?J+" button-toggle-expand":J+" button-toggle-collapse"}S.iv()},getPositionRelativeTo:function(){return this.$2i},invalidate:function(u){var J=this;J._68I||(J._68I=1,j.callLater(J.validate,J,D,u),J.onInvalidated&&J.onInvalidated(),J.fireViewEvent("invalidate"));var G=this._config,y=G.content;y&&y.invalidate&&y.invalidate(),G.items&&G.items.forEach(function(D){D&&D.content&&D.content.invalidate&&D.content.invalidate()})},getIconStretch:function(){var D=this._config.iconStretch||"fill";return D},$27i:function(q,A,L,z,N){var d=R.initContext(q);R.translateAndScale(d,0,0,1),d.clearRect(0,0,L,L);var T=(L-z)/2;j.drawStretchImage(d,j.getImage(A),this.getIconStretch(N),0,T,z,z),d.restore()},$28i:function(y){var S,A,w,E=this,J=y.id,G=E.getPanelView(J),z=G.querySelector(".button-toggle"),g=E.$2i.indexOf("Bottom")>=0;if(A=g?j.panelCollapseIcon:j.panelExpandIcon,w=g?j.panelExpandIcon:j.panelCollapseIcon,z){S=y.expanded?j.getImage(w):j.getImage(A);var s=E.$4i(y),l=E.$5i(y);E.$27i(z,S,s,l,"toggle")}},$29i:function(Q){var G,w=this,A=Q.id,M=w.getPanelView(A),t=M.querySelector(".button-independent-switch"),$=j.panelUnLockIcon,T=j.panelLockIcon;if(t){G=Q.independent!==!0?j.getImage(T):j.getImage($);var E=w.$4i(Q),B=w.$5i(Q);w.$27i(t,G,E,B,"switch")}},$30i:function(F){var K=this,o=F.id,$=K.getPanelView(o),N=$.querySelector(".button-minimize-minimize"),x=j.panelMinimizeIcon;if(N){var D=K.$4i(F),f=K.$5i(F);K.$27i(N,j.getImage(x),D,f,"miminize")}},$31i:function(u){var h=this,J=u.id,K=h.getPanelView(J),g=K.querySelector(".button-minimize-restore"),v=u.titleIcon||j.panelRestoreIcon;if(g){var a=h.$20i();h.$27i(g,j.getImage(v),a,a,"restore")}},$32i:function(e){var g=this,p=e.id,_=g.getPanelView(p);if(e.buttons){var t=e.buttons;t.forEach(function(w){var Q=w.name,D=w.icon;if(Q&&D){var x=_.querySelector(".custombutton-"+Q);if(x){var M=g.$4i(e),L=g.$5i(e)-1;g.$27i(x,j.getImage(D),M,L,"custom")}}})}},$33i:function(x){var S=this,y=x.id,b=S.getPanelView(y),w=b.querySelector(".panel-title-icon"),K=x.titleIcon;if(w&&K){var I=S.$4i(x),B=S.$5i(x);S.$27i(w,j.getImage(K),I,B,"title")}},validateImpl:function(){var y=this,m=y._config;y.$28i(m),y.$30i(m),y.$31i(m),y.$32i(m),y.$33i(m),m.items&&m.items.forEach(function($){y.$28i($),y.$29i($),y.$32i($)})}});var z=function(m){var c=this,v=m.getView();c.$34i=m,c.addListeners(),s(v,"dblclick",c.$42i.bind(c))};j.def(z,r,{ms_listener:1,getView:function(){return this.$34i.getView()},clear:function(){delete this.$37i,delete this.$38i,delete this.$36i,delete this.$39i},$42i:function(x){for(var g=this.$34i,V=x.target,_=g.$35i,f=_.length,o=0;f>o;o++){var s=_[o];s.contains(V)&&(x.preventDefault(),g.togglePanel(s.parentNode.$15i))}},handle_touchstart:function(l){var H=this,t=H.$34i,s=t._config,u=s.flowLayout,o=l;if(j.preventDefault(l),j.isLeftButton(l)){var M=l.target,E=t.getView().children[0],S=t.getView().querySelector(".button-minimize-restore");_&&(o=p(l));var $=H.$40i={x:o.pageX,y:o.pageY};H.$41i={x:$.x,y:$.y},(!u&&E.contains(M)||S&&S.contains(M))&&(H.$38i=!0,j.startDragging(H,l)),!u&&H.handle_mousemove(l)&&(H.$37i=!0,j.startDragging(H,l),t.$11i())}},handle_mousedown:function(C){this.handle_touchstart(C)},handle_touchend:function(T){var b=this,L=b.$34i,z=T.target,K=L.$35i,H=K.length,m=0,x=L.getView(),M=x.querySelector(".button-minimize"),u=x.querySelector(".button-minimize-restore");if(!b.$39i&&!b.$36i){if(M&&M.contains(z)||u&&u.contains(z))T.preventDefault(),L._config.minimized?L.restore():L.minimize();else for(;H>m;m++){var i=K[m],W=i.parentNode,p=W.$15i,J=L.getPanelConfig(p),s=i.querySelector(".button-toggle"),U=i.querySelector(".button-independent-switch");if(s===z)T.preventDefault(),L.togglePanel(p);else if(U===z){T.preventDefault();var C="button-independent-switch-off",Y="button-independent-switch-on";J.independent=J.independent==D?!0:!J.independent,U[v]=J.independent?U[v].replace(C,Y):U[v].replace(Y,C),L.$29i(J)}else z[v]&&z[v].indexOf("control-button custombutton-")>=0&&i.contains(z)&&z._action.call(L,J,L.getPanelView(p),T)}delete b.$40i,delete b.$41i}},handle_mouseup:function(w){this.handle_touchend(w)},handleWindowTouchEnd:function(){var d=this,y=d.$34i;d.$37i&&d.$36i?(y.$18i.fire({kind:"endResize",target:y,id:y.getView().$15i}),y.$12i()):d.$38i&&d.$39i&&y.$18i.fire({kind:"endMove",target:y,id:y.getView().$15i}),this.clear()},handleWindowMouseUp:function(M){this.handleWindowTouchEnd(M)},handle_mousemove:function(c){var u=this,W=u.getView(),M=W.querySelector(".resize-area"),v=M.getBoundingClientRect(),F={x:v.left,y:v.top,width:v.width,height:v.height};c=_?p(c):c;var m=c.clientX,o=c.clientY,A=u.$34i._config;return A.expanded&&A.minimized!==!0&&j.containsPoint(F,{x:m,y:o})?(W.style.cursor="nwse-resize",!0):(W.style.cursor=S,void 0)},handleWindowTouchMove:function(N){N.preventDefault();var Z=N;_&&(Z=p(N));var s=this,B=s.$40i,f=s.$41i;if(!(f.x==B.x&&f.y==B.y&&j.getDistance(f,{x:Z.pageX,y:Z.pageY})<=1)){var L=s.$34i,U=s.getView(),P=U.parentNode,c=L._config,g=c.resizeMode||"wh",w=Z.pageX-B.x,X=Z.pageY-B.y,Y=L.$2i;if(s.$37i){var o=U.children[1].children[0],G=U.offsetWidth,O=o.offsetHeight,y=G+w,h=O+X;y=Math.max(y,100),h=Math.max(h,100),"w"===g?(m(U,i,y+q),c.width=y):"h"===g?(m(o,u,h+q),c.contentHeight=h):"wh"===g&&(m(U,i,y+q),m(o,u,h+q),c.width=y,c.contentHeight=h),Y.indexOf("right")>=0&&m(U,W,A(J(U,W))-(y-G)+q),Y.indexOf("Bottom")>=0&&m(U,d,A(J(U,d))-(h-O)+q),B.x=Z.pageX,B.y=Z.pageY;var v=c.content;v&&v.isSelfViewEvent&&(v.setX(0),v.setY(0),v.setWidth(c.width-2*(c.borderWidth||0)),v.setHeight(c.contentHeight)),s.$36i?L.$18i.fire({kind:"betweenResize",target:L,id:L.getView().$15i}):(s.$36i=!0,L.$18i.fire({kind:"beginResize",target:L,id:L.getView().$15i}))}else if(s.$38i){var n,F,C,V,H,D,T,k,$,t,S=U.getBoundingClientRect(),M=S.width,e=S.height,Q=E(P),a=Q.width,z=Q.height,R=L._dragContainment;"leftTop"===Y?(n=A(J(U,b))||0,C=A(J(U,I))||0,H=n+w,T=C+X,"parent"===R&&(H+M>a&&(H=a-M),T+e>z&&(T=z-e),0>H&&(H=0),0>T&&(T=0)),$=H-n,t=T-C,L.setPosition(H,T),B.x+=$,B.y+=t):"rightBottom"===Y?(F=A(J(U,W))||0,V=A(J(U,d))||0,D=F-w,k=V-X,"parent"===R&&(0>D&&(D=0),0>k&&(k=0),D+M>a&&(D=a-M),k+e>z&&(k=z-e)),$=D-F,t=k-V,L.setPosition(D,k),B.x-=$,B.y-=t):"rightTop"===Y?(F=A(J(U,W))||0,C=A(J(U,I))||0,D=F-w,T=C+X,"parent"===R&&(0>D&&(D=0),0>T&&(T=0),D+M>a&&(D=a-M),T+e>z&&(T=z-e)),$=D-F,t=T-C,L.setPosition(D,T),B.x-=$,B.y+=t):"leftBottom"===Y&&(n=A(J(U,b))||0,V=A(J(U,d))||0,H=n+w,k=V-X,"parent"===R&&(0>H&&(H=0),0>k&&(k=0),H+M>a&&(H=a-M),k+e>z&&(k=z-e)),$=H-n,t=k-V,L.setPosition(H,k),B.x+=$,B.y-=t),s.$39i?L.$18i.fire({kind:"betweenMove",target:L,id:L.getView().$15i}):(s.$39i=!0,L.$18i.fire({kind:"beginMove",target:L,id:L.getView().$15i}))}}},handleWindowMouseMove:function(V){this.handleWindowTouchMove(V)}});var F=V.widget.PanelGroup=function(S){var d=this,D=d._view=R.createView(null,d);D.style.border="1px dashed black",D.style.position="absolute",D.style.background="rgba(120, 120, 120, 0.4)",d.$48i=new V.List,d._tolerance=100,d._config=S||{hGap:0,vGap:0},d.bindHandlePanelMove=d.handlePanelMove.bind(d),d.bindHandlePanelEvent=d.handlePanelEvent.bind(d),d.invalidate()};j.def(F,r,{invalidate:function(){var J=this;J._68I||(J._68I=1,Q(function(){J.validate()},50))},validate:function(){if(this._68I){delete this._68I;var o=this.$48i.get(0);if(o){var s=o.getView().parentNode;s&&(this.layoutPanels(s,"leftTop"),this.layoutPanels(s,"rightTop"),this.layoutPanels(s,"leftBottom"),this.layoutPanels(s,"rightBottom"))}}},setLeftTopPanels:function(){var I=this,S=I.$43i,N=I.$48i;S==D&&(S=I.$43i=new V.List);for(var c=0;c<arguments.length;c++){var $=arguments[c];if("string"==typeof $)S.$49i=$;else{if($._config.flowLayout)continue;$.setPositionRelativeTo("leftTop"),S.contains($)||S.add($),N.contains($)||I.add($)}}},setRightTopPanels:function(){var Z=this,q=Z.$44i,I=Z.$48i;q==D&&(q=Z.$44i=new V.List);for(var k=0;k<arguments.length;k++){var j=arguments[k];if("string"==typeof j)q.$49i=j;else{if(j._config.flowLayout)continue;j.setPositionRelativeTo("rightTop"),q.contains(j)||q.add(j),I.contains(j)||Z.add(j)}}},setLeftBottomPanels:function(){var m=this,Q=m.$45i,P=m.$48i;Q==D&&(Q=m.$45i=new V.List);for(var c=0;c<arguments.length;c++){var O=arguments[c];if("string"==typeof O)Q.$49i=O;else{if(O._config.flowLayout)continue;O.setPositionRelativeTo("leftBottom"),Q.contains(O)||Q.add(O),P.contains(O)||m.add(O)}}},setRightBottomPanels:function(){var A=this,Y=A.$46i,T=A.$48i;Y==D&&(Y=A.$46i=new V.List);for(var y=0;y<arguments.length;y++){var N=arguments[y];if("string"==typeof N)Y.$49i=N;else{if(N._config.flowLayout)continue;N.setPositionRelativeTo("rightBottom"),Y.contains(N)||Y.add(N),T.contains(N)||A.add(N)}}},add:function(C){if(!C._config.flowLayout){var k=this,y=k.$48i;y.contains(C)||(C.addEventListener(k.bindHandlePanelMove),C.addEventListener(k.bindHandlePanelEvent),y.add(C))}},remove:function(J){var q=this,u=q.$48i;u.contains(J)&&(J.removeEventListener(q.bindHandlePanelMove),J.removeEventListener(q.bindHandlePanelEvent),u.remove(J),q.$43i.contains(J)&&q.$43i.remove(J),q.$44i.contains(J)&&q.$44i.remove(J),q.$45i.contains(J)&&q.$45i.remove(J),q.$46i.contains(J)&&q.$46i.remove(J))},layoutPanels:function(d,o,E){var j=this,C=j._config,L=C.hGap||0,b=C.vGap||0;if(d){var U=j.$43i;if("leftBottom"===o?U=j.$45i:"rightTop"===o?U=j.$44i:"rightBottom"===o&&(U=j.$46i),!U)return;var h=U.$49i,P=L,H=b;if(d.contains(j._view)&&d.removeChild(j._view),U&&U.size()>0)for(var X=0;X<U.size();X++){var Z=U.get(X),x=Z.getView();d=d||x.parentNode,E!==X?Z.setPosition(P,H):("leftTop"===o?(j._view.style.right="",j._view.style.bottom="",j._view.style.left=P+q,j._view.style.top=H+q):"leftBottom"===o?(j._view.style.right="",j._view.style.top="",j._view.style.left=P+q,j._view.style.bottom=H+q):"rightTop"===o?(j._view.style.left="",j._view.style.bottom="",j._view.style.right=P+q,j._view.style.top=H+q):"rightBottom"===o&&(j._view.style.left="",j._view.style.top="",j._view.style.right=P+q,j._view.style.bottom=H+q),j._view.style.width=x.offsetWidth+q,j._view.style.height=x.offsetHeight+q,d.insertBefore(j._view,x)),"h"===h?P+=x.offsetWidth+L:"v"===h&&(H+=x.offsetHeight+b)}}},handlePanelEvent:function(b){if("beginToggle"===b.kind||"endToggle"===b.kind||"beginRestore"===b.kind||"endMinimize"===b.kind||"endResize"===b.kind){var R=this,o=b.target,T=o.getView(),z=T.parentNode,h=R.$43i,m=R.$44i,A=R.$45i,c=R.$46i,Y=R._config,a=D,u=D,f=o.$47i;if(f==D&&(f=o.$47i=0),"beginToggle"===b.kind?f=o.$47i=f+1:"endToggle"===b.kind&&(f=o.$47i=f-1),h&&h.contains(o)?(a="leftTop",u=h):A&&A.contains(o)?(a="leftBottom",u=A):m&&m.contains(o)?(a="rightTop",u=m):c&&c.contains(o)&&(a="rightBottom",u=c),"beginToggle"===b.kind&&a&&1===f){var v=t(),w=v.style,G=u.$49i,I="each";w.fontSize="0",w.position="absolute",w.width="100%","leftTop"===a?(w.left=0,w.top=0):"leftBottom"===a?(w.left=0,w.bottom=0,"v"===G&&(I="reverseEach")):"rightTop"===a?(w.right=0,w.top=0,w.textAlign="right","h"===G&&(I="reverseEach")):"rightBottom"===a&&(w.right=0,w.bottom=0,w.textAlign="right",I="reverseEach"),u[I](function(X){var m=X.getView(),n=m.style,U=t();n.position="static",U.style.textAlign="left",U.style.position="relative",U.style.display="inline-block","leftTop"===a?(U.style.marginLeft=Y.hGap+q,U.style.marginTop=Y.vGap+q):"leftBottom"===a?(U.style.marginLeft=Y.hGap+q,U.style.marginBottom=Y.vGap+q):"rightTop"===a?(U.style.marginRight=Y.hGap+q,U.style.marginTop=Y.vGap+q):"rightBottom"===a&&(U.style.marginRight=Y.hGap+q,U.style.marginBottom=Y.vGap+q),U.appendChild(m),v.appendChild(U),"h"===G?U.style.verticalAlign="leftTop"===a||"rightTop"===a?"top":"bottom":v.appendChild(C("br"))}),R.$54i=v,z.appendChild(v)}else"endToggle"===b.kind&&a&&0===f?Q(function(){z=z.parentNode.parentNode,z.removeChild(R.$54i),delete R.$54i,u.each(function(a){var $=a.getView(),v=$.style;v.position="absolute",z.appendChild($)}),R.layoutPanels(z,a)},30):("beginRestore"===b.kind||"endMinimize"===b.kind||"endResize"===b.kind)&&a&&R.layoutPanels(z,a)}},handlePanelMove:function(P){if(!(P.kind.indexOf("Move")<0)){var g=this,O=g._config,K=O.hGap||0,C=O.vGap||0,k=P.target,f=k._view,S=f.getBoundingClientRect(),l=S.width,I=S.height,N=l/2,E=I/2,d=f.parentNode,v=g.$43i,X=g.$44i,G=g.$45i,L=g.$46i,W=d.getBoundingClientRect(),o=g._tolerance;if("endMove"===P.kind){var _=g._corner;_&&(k.setPositionRelativeTo(_),g.layoutPanels(d,_)),delete g._corner}if("betweenMove"===P.kind){var h=W.left,w=W.top,m=W.width,z=W.height,M=S.left+l/2,p=S.top+I/2;v==D&&(v=g.$43i=new V.List),G==D&&(G=g.$45i=new V.List),X==D&&(X=g.$44i=new V.List),L==D&&(L=g.$46i=new V.List),delete g._corner,v.contains(k)?(v.remove(k),g.layoutPanels(d,"leftTop")):G.contains(k)?(G.remove(k),g.layoutPanels(d,"leftBottom")):X.contains(k)?(X.remove(k),g.layoutPanels(d,"rightTop")):L.contains(k)&&(L.remove(k),g.layoutPanels(d,"rightBottom"));var U=function($,S){var b=h+K,V=w+C;if(0===S.size()){var T=b+N,f=V+E;"leftBottom"===$?f=w+z-C-E:"rightTop"===$?T=h+m-K-N:"rightBottom"===$&&(T=h+m-K-N,f=w+z-C-E);var t=M-T,x=p-f,P=Math.sqrt(t*t+x*x);if(o>P)return g._corner=$,S.add(k),g.layoutPanels(d,$,0),!0}else if(1===S.size()){var Z=S.get(0),R=Z.getView().getBoundingClientRect(),L=R.left+N,s=R.top+E,e=R.left+R.width+K+N,l=V+E,G=b+N,I=R.top+R.height+C+E;"leftBottom"===$?(s=R.top+R.height-E,l=w+z-C-E,I=R.top-C-E):"rightTop"===$?(L=R.left+R.width-N,e=R.left-K-N,G=h+m-K-N):"rightBottom"===$&&(L=R.left+R.width-N,s=R.top+R.height-E,e=R.left-K-N,l=w+z-C-E,G=h+m-K-N,I=R.top-C-E);var u=M-L,n=p-s,v=M-e,y=p-l,Q=M-G,H=p-I,r=A(Math.sqrt(u*u+n*n)),O=A(Math.sqrt(v*v+y*y)),J=A(Math.sqrt(Q*Q+H*H)),Y=[r,O,J];Y.sort(function(S,M){return S-M});var X=Y[0];if(o>X){if(g._corner=$,X===r)return S.add(k,0),g.layoutPanels(d,$,0),!0;if(X===O)return S.add(k),S.$49i="h",g.layoutPanels(d,$,1),!0;if(X===J)return S.add(k),S.$49i="v",g.layoutPanels(d,$,1),!0}}else if(S.size()>1){for(var U=D,F={},i=[],a=S.$49i,B=0;B<S.size();B++){var c=S.get(B),_=c.getView(),W=_.getBoundingClientRect(),q=W.left+N,j=W.top+E;"leftBottom"===$?j=W.top+W.height-E:"rightTop"===$?q=W.left+W.width-N:"rightBottom"===$&&(q=W.left+W.width-N,j=W.top+W.height-E),B===S.size()-1&&(U=W);var t=M-q,x=p-j,P=A(Math.sqrt(t*t+x*x));F[P]=B,i.push(P)}"leftTop"===$&&"h"===a?(T=U.left+U.width+K+N,f=V+E):"leftTop"===$&&"v"===a?(T=b+N,f=U.top+U.height+C+E):"leftBottom"===$&&"h"===a?(T=U.left+U.width+K+N,f=w+z-C-E):"leftBottom"===$&&"v"===a?(T=b+N,f=U.top-C-E):"rightTop"===$&&"h"===a?(T=U.left-K-N,f=V+E):"rightTop"===$&&"v"===a?(T=h+m-K-N,f=U.top+U.height+C+E):"rightBottom"===$&&"h"===a?(T=U.left-K-N,f=w+z-C-E):"rightBottom"===$&&"v"===a&&(T=h+m-K-N,f=U.top-C-E),t=M-T,x=p-f,P=A(Math.sqrt(t*t+x*x)),F[P]=B,i.push(P),i.sort(function(b,L){return b-L});var X=i[0];if(o>X)return g._corner=$,S.add(k,F[X]),g.layoutPanels(d,$,F[X]),!0}};U("leftTop",v)||U("leftBottom",G)||U("rightTop",X)||U("rightBottom",L)}}}})}("undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:(0,eval)("this"),Object);