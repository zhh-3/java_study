!function(y,x,m){"use strict";var V="ht",b=y[V],N=null,l=Math,I=l.PI,B=l.cos,D=l.sin,A=l.abs,v=l.max,d=l.sqrt,r=1e-5,u=b.Default,c=u.def,J=u.startAnim,C=u.createMatrix,H=u.transformVec,Q=u.getInternal(),M=Q.addMethod,t=Q.superCall,w=Q.toPointsArray,X=Q.createNormals,q=Q.toFloatArray,e=Q.glMV,W=Q.batchShape,F=Q.createNodeMatrix,G=Q.getFaceInfo,O=Q.transformAppend,i=Q.drawFaceInfo,T=Q.createAnim,R=Q.cube(),_=R.is,Z=R.vs,o=R.uv,n=Q.ui(),p=b.Node,k=b.Shape,s="h",P="v",z="front",S="back",f="left",h="right",E="top",Y="bottom",j="dw.expanded",K=".expanded",U="dw.angle",a=".angle",L=function(S,z,U){c(V+"."+S,z,U)},$=function(K,S,z){z?K.push(S.x,S.y):K.push(S.x,S.y,S.z)},g=[1,0,0],Ad=function(K,p,U,_){var m,z,v,s,X=0,F=[];if(_)for(m=_.length;m>X;X+=3)z=_[X],v=_[X+1],s=_[X+2],F.push(new fb([new Cl([p[3*z],p[3*z+1],p[3*z+2]],g,U?[U[2*z],U[2*z+1],0]:N),new Cl([p[3*v],p[3*v+1],p[3*v+2]],g,U?[U[2*v],U[2*v+1],0]:N),new Cl([p[3*s],p[3*s+1],p[3*s+2]],g,U?[U[2*s],U[2*s+1],0]:N)],K));else for(m=p.length;m>X;X+=3)z=X,v=X+1,s=X+2,F.push(new fb([new Cl([p[3*z],p[3*z+1],p[3*z+2]],g,U?[U[2*z],U[2*z+1],0]:N),new Cl([p[3*v],p[3*v+1],p[3*v+2]],g,U?[U[2*v],U[2*v+1],0]:N),new Cl([p[3*s],p[3*s+1],p[3*s+2]],g,U?[U[2*s],U[2*s+1],0]:N)],K));return F},vm=[f,z,h,S,E,Y],le=vm.concat("csg"),Uf=[0,6,12,18,24,30],Lp=function(S,h,J){for(var n=F(S),s=[],e=0;6>e;e++)for(var j=vm[e],l=Uf[e],b=J?h.getFaceUv(S,j):N,X=J?h.getFaceUvScale(S,j):N,W=J?h.getFaceUvOffset(S,j):N,P=0;2>P;P++){var x,K,d,i=_[l+3*P],t=_[l+3*P+1],u=_[l+3*P+2];if(J){if(b){var k=8*e;x=[b[2*i-k],b[2*i+1-k],0],K=[b[2*t-k],b[2*t+1-k],0],d=[b[2*u-k],b[2*u+1-k],0]}else x=[o[2*i],o[2*i+1],0],K=[o[2*t],o[2*t+1],0],d=[o[2*u],o[2*u+1],0];X&&(x[0]*=X[0],x[1]*=X[1],K[0]*=X[0],K[1]*=X[1],d[0]*=X[0],d[1]*=X[1]),W&&(x[0]+=W[0],x[1]+=W[1],K[0]+=W[0],K[1]+=W[1],d[0]+=W[0],d[1]+=W[1])}s.push(new fb([new Cl(H([Z[3*i],Z[3*i+1],Z[3*i+2]],n),g,x),new Cl(H([Z[3*t],Z[3*t+1],Z[3*t+2]],n),g,K),new Cl(H([Z[3*u],Z[3*u+1],Z[3*u+2]],n),g,d)],S))}return _l.$15n(s)},ad=function(E,k){var H,c=E.data.getAttaches();if(c&&c.each(function(I){I instanceof Nj&&I.s("attach.operation")&&(H||(H=[]),H.push(I))}),H){var f;vm.forEach(function(n){var l=Ad(n,E[n].vs,E[n].tuv);f=f?f.concat(l):l}),f=_l.$15n(f),H.forEach(function(H){var p=H.s("attach.operation");f[p]&&(f=f[p](Lp(H,E.gv,E.csg.tuv)))}),vm.forEach(function(j){j=E[j],j.vs=[],j.tuv&&(j.tuv=[])}),f.$19n().forEach(function(N){var z=N.$10n;if(z instanceof Nj){if(z.s("attach.cull"))return;z="csg"}for(var i=E[z],v=i.vs,w=i.tuv,V=N.$9n,j=2;j<V.length;j++)$(v,V[0].$24n),$(v,V[j-1].$24n),$(v,V[j].$24n),w&&($(w,V[0].uv,!0),$(w,V[j-1].uv,!0),$(w,V[j].uv,!0))})}le.forEach(function(G){var M=E[G];M.visible&&M.vs.length?(M.ns=X(M.vs),q(M,"vs"),q(M,"tuv")):delete E[G]}),k&&(W(E,N,k),E.clear())};M(u,{createFrameModel:function(c,E,O,V){c=c==N?.07:c,E=E==N?c:E,O=O==N?c:O,V=V?V:{};var n=V.top,B=V.bottom,i=V.left,X=V.right,A=V.front,T=V.back,o=[],Y=[];return A===!0?(o.push(-.5,.5,.5,-.5,-.5,.5,.5,-.5,.5,.5,-.5,.5,.5,.5,.5,-.5,.5,.5),Y.push(0,0,0,1,1,1,1,1,1,0,0,0)):A===!1||(o.push(-.5,.5,.5,-.5,-.5,.5,-.5+c,-.5,.5,-.5+c,-.5,.5,-.5+c,.5,.5,-.5,.5,.5,.5-c,.5,.5,.5-c,-.5,.5,.5,-.5,.5,.5,-.5,.5,.5,.5,.5,.5-c,.5,.5,-.5+c,.5,.5,-.5+c,.5-E,.5,.5-c,.5-E,.5,.5-c,.5-E,.5,.5-c,.5,.5,-.5+c,.5,.5,-.5+c,-.5+E,.5,-.5+c,-.5,.5,.5-c,-.5,.5,.5-c,-.5,.5,.5-c,-.5+E,.5,-.5+c,-.5+E,.5),Y.push(0,0,0,1,c,1,c,1,c,0,0,0,1-c,0,1-c,1,1,1,1,1,1,0,1-c,0,c,0,c,E,1-c,E,1-c,E,1-c,0,c,0,c,1-E,c,1,1-c,1,1-c,1,1-c,1-E,c,1-E)),T===!0?(o.push(-.5,.5,-.5,.5,-.5,-.5,-.5,-.5,-.5,.5,-.5,-.5,-.5,.5,-.5,.5,.5,-.5),Y.push(1,0,0,1,1,1,0,1,1,0,0,0)):T===!1||(o.push(-.5,.5,-.5,-.5+c,-.5,-.5,-.5,-.5,-.5,-.5+c,-.5,-.5,-.5,.5,-.5,-.5+c,.5,-.5,.5-c,.5,-.5,.5,-.5,-.5,.5-c,-.5,-.5,.5,-.5,-.5,.5-c,.5,-.5,.5,.5,-.5,-.5+c,.5,-.5,.5-c,.5-E,-.5,-.5+c,.5-E,-.5,.5-c,.5-E,-.5,-.5+c,.5,-.5,.5-c,.5,-.5,-.5+c,-.5+E,-.5,.5-c,-.5,-.5,-.5+c,-.5,-.5,.5-c,-.5,-.5,-.5+c,-.5+E,-.5,.5-c,-.5+E,-.5),Y.push(1,0,1-c,1,1,1,1-c,1,1,0,1-c,0,c,0,0,1,c,1,0,1,c,0,0,0,1-c,0,c,E,1-c,E,c,E,1-c,0,c,0,1-c,1-E,c,1,1-c,1,c,1,1-c,1-E,c,1-E)),i===!0?(o.push(-.5,.5,-.5,-.5,-.5,-.5,-.5,-.5,.5,-.5,-.5,.5,-.5,.5,.5,-.5,.5,-.5),Y.push(0,0,0,1,1,1,1,1,1,0,0,0)):i===!1||(o.push(-.5,.5,-.5,-.5,-.5,-.5,-.5,-.5,-.5+O,-.5,-.5,-.5+O,-.5,.5,-.5+O,-.5,.5,-.5,-.5,.5,.5-O,-.5,-.5,.5-O,-.5,-.5,.5,-.5,-.5,.5,-.5,.5,.5,-.5,.5,.5-O,-.5,.5,-.5+O,-.5,.5-E,-.5+O,-.5,.5-E,.5-O,-.5,.5-E,.5-O,-.5,.5,.5-O,-.5,.5,-.5+O,-.5,-.5+E,-.5+O,-.5,-.5,-.5+O,-.5,-.5,.5-O,-.5,-.5,.5-O,-.5,-.5+E,.5-O,-.5,-.5+E,-.5+O),Y.push(0,0,0,1,O,1,O,1,O,0,0,0,1-O,0,1-O,1,1,1,1,1,1,0,1-O,0,O,0,O,E,1-O,E,1-O,E,1-O,0,O,0,O,1-E,O,1,1-O,1,1-O,1,1-O,1-E,O,1-E)),X===!0?(o.push(.5,.5,-.5,.5,-.5,.5,.5,-.5,-.5,.5,-.5,.5,.5,.5,-.5,.5,.5,.5),Y.push(1,0,0,1,1,1,0,1,1,0,0,0)):X===!1||(o.push(.5,.5,-.5,.5,-.5,-.5+O,.5,-.5,-.5,.5,-.5,-.5+O,.5,.5,-.5,.5,.5,-.5+O,.5,.5,.5-O,.5,-.5,.5,.5,-.5,.5-O,.5,-.5,.5,.5,.5,.5-O,.5,.5,.5,.5,.5,-.5+O,.5,.5-E,.5-O,.5,.5-E,-.5+O,.5,.5-E,.5-O,.5,.5,-.5+O,.5,.5,.5-O,.5,-.5+E,-.5+O,.5,-.5,.5-O,.5,-.5,-.5+O,.5,-.5,.5-O,.5,-.5+E,-.5+O,.5,-.5+E,.5-O),Y.push(1,0,1-O,1,1,1,1-O,1,1,0,1-O,0,O,0,0,1,O,1,0,1,O,0,0,0,1-O,0,O,E,1-O,E,O,E,1-O,0,O,0,1-O,1-E,O,1,1-O,1,O,1,1-O,1-E,O,1-E)),n===!0?(o.push(.5,.5,.5,.5,.5,-.5,-.5,.5,-.5,-.5,.5,-.5,-.5,.5,.5,.5,.5,.5),Y.push(1,1,1,0,0,0,0,0,0,1,1,1)):n===!1||(o.push(.5,.5,.5,.5,.5,-.5,.5-c,.5,-.5,.5-c,.5,-.5,.5-c,.5,.5,.5,.5,.5,-.5+c,.5,.5,-.5+c,.5,-.5,-.5,.5,-.5,-.5,.5,-.5,-.5,.5,.5,-.5+c,.5,.5,.5-c,.5,.5,.5-c,.5,.5-O,-.5+c,.5,.5-O,-.5+c,.5,.5-O,-.5+c,.5,.5,.5-c,.5,.5,.5-c,.5,-.5+O,.5-c,.5,-.5,-.5+c,.5,-.5,-.5+c,.5,-.5,-.5+c,.5,-.5+O,.5-c,.5,-.5+O),Y.push(1,1,1,0,1-c,0,1-c,0,1-c,1,1,1,c,1,c,0,0,0,0,0,0,1,c,1,1-c,1,1-c,1-O,c,1-O,c,1-O,c,1,1-c,1,1-c,O,1-c,0,c,0,c,0,c,O,1-c,O)),B===!0?(o.push(.5,-.5,.5,-.5,-.5,-.5,.5,-.5,-.5,-.5,-.5,-.5,.5,-.5,.5,-.5,-.5,.5),Y.push(1,0,0,1,1,1,0,1,1,0,0,0)):B===!1||(o.push(.5,-.5,.5,.5-c,-.5,-.5,.5,-.5,-.5,.5-c,-.5,-.5,.5,-.5,.5,.5-c,-.5,.5,-.5+c,-.5,.5,-.5,-.5,-.5,-.5+c,-.5,-.5,-.5,-.5,-.5,-.5+c,-.5,.5,-.5,-.5,.5,.5-c,-.5,.5,-.5+c,-.5,.5-O,.5-c,-.5,.5-O,-.5+c,-.5,.5-O,.5-c,-.5,.5,-.5+c,-.5,.5,.5-c,-.5,-.5+O,-.5+c,-.5,-.5,.5-c,-.5,-.5,-.5+c,-.5,-.5,.5-c,-.5,-.5+O,-.5+c,-.5,-.5+O),Y.push(1,0,1-c,1,1,1,1-c,1,1,0,1-c,0,c,0,0,1,c,1,0,1,c,0,0,0,1-c,0,c,O,1-c,O,c,O,1-c,0,c,0,1-c,1-O,c,1,1-c,1,c,1,1-c,1-O,c,1-O)),{vs:o,uv:Y}}}),M(b.Style,{"dw.flip":!1,"dw.s3":[.999,.999,.5],"dw.t3":m,"dw.expanded":!1,"dw.toggleable":!0,"dw.axis":"left","dw.start":0,"dw.end":I/2,"dw.angle":0,"attach.cull":!1,"attach.operation":"subtract"},!0),vm.forEach(function(B){var U={};U[B+K]=!1,U[B+".toggleable"]=!1,U[B+".axis"]=f,U[B+".start"]=0,U[B+".end"]=I/2,U[B+a]=0,M(b.Style,U,!0)});var _l=function(){this.$4n=[]};_l.$15n=function(G){var v=new _l;return v.$4n=G,v},_l.prototype={clone:function(){var j=new _l;return j.$4n=this.$4n.map(function(L){return L.clone()}),j},$19n:function(){return this.$4n},union:function(X){var z=new Qb(this.clone().$4n),r=new Qb(X.clone().$4n);return z.$3n(r),r.$3n(z),r.$6n(),r.$3n(z),r.$6n(),z.$7n(r.$2n()),_l.$15n(z.$2n())},subtract:function(b){var v=new Qb(this.clone().$4n),G=new Qb(b.clone().$4n);return v.$6n(),v.$3n(G),G.$3n(v),G.$6n(),G.$3n(v),G.$6n(),v.$7n(G.$2n()),v.$6n(),_l.$15n(v.$2n())},intersect:function(Q){var k=new Qb(this.clone().$4n),I=new Qb(Q.clone().$4n);return k.$6n(),I.$3n(k),I.$6n(),k.$3n(I),I.$3n(k),k.$7n(I.$2n()),k.$6n(),_l.$15n(k.$2n())},inverse:function(){var M=this.clone();return M.$4n.map(function(b){b.flip()}),M}},_l.cube=function(o){o=o||{};var l=new Ep(o.center||[0,0,0]),k=o.radius?o.radius.length?o.radius:[o.radius,o.radius,o.radius]:[1,1,1];return _l.$15n([[[0,4,6,2],[-1,0,0]],[[1,3,7,5],[1,0,0]],[[0,1,5,4],[0,-1,0]],[[2,6,7,3],[0,1,0]],[[0,2,3,1],[0,0,-1]],[[4,5,7,6],[0,0,1]]].map(function(b){return new fb(b[0].map(function(v){var S=new Ep(l.x+k[0]*(2*!!(1&v)-1),l.y+k[1]*(2*!!(2&v)-1),l.z+k[2]*(2*!!(4&v)-1));return new Cl(S,new Ep(b[1]))}))}))},_l.sphere=function(d){function c(o,j){o*=2*I,j*=I;var H=new Ep(B(o)*D(j),B(j),D(o)*D(j));$.push(new Cl(P.$20n(H.$21n(E)),H))}d=d||{};for(var $,P=new Ep(d.center||[0,0,0]),E=d.radius||1,n=d.slices||16,h=d.stacks||8,W=[],K=0;n>K;K++)for(var C=0;h>C;C++)$=[],c(K/n,C/h),C>0&&c((K+1)/n,C/h),h-1>C&&c((K+1)/n,(C+1)/h),c(K/n,(C+1)/h),W.push(new fb($));return _l.$15n(W)},_l.cylinder=function(u){function T(E,C,N){var d=2*C*I,S=p.$21n(B(d)).$20n(V.$21n(D(d))),H=X.$20n(P.$21n(E)).$20n(S.$21n(s)),Y=S.$21n(1-A(N)).$20n(Q.$21n(N));return new Cl(H,Y)}u=u||{};for(var X=new Ep(u.start||[0,-1,0]),q=new Ep(u.end||[0,1,0]),P=q.$13n(X),s=u.radius||1,d=u.slices||16,Q=P.$14n(),i=A(Q.y)>.5,p=new Ep(i,!i,0).$12n(Q).$14n(),V=p.$12n(Q).$14n(),t=new Cl(X,Q.$11n()),U=new Cl(q,Q.$14n()),O=[],g=0;d>g;g++){var $=g/d,l=(g+1)/d;O.push(new fb([t,T(0,$,-1),T(0,l,-1)])),O.push(new fb([T(0,l,0),T(0,$,0),T(1,$,0),T(1,l,0)])),O.push(new fb([U,T(1,l,1),T(1,$,1)]))}return _l.$15n(O)};var Ep=function($,I,G){var w=this;3==arguments.length?(w.x=$,w.y=I,w.z=G):"x"in $?(w.x=$.x,w.y=$.y,w.z=$.z):(w.x=$[0],w.y=$[1],w.z=$[2])};Ep.prototype={clone:function(){return new Ep(this.x,this.y,this.z)},$11n:function(){return new Ep(-this.x,-this.y,-this.z)},$20n:function(w){return new Ep(this.x+w.x,this.y+w.y,this.z+w.z)},$13n:function(L){return new Ep(this.x-L.x,this.y-L.y,this.z-L.z)},$21n:function(y){return new Ep(this.x*y,this.y*y,this.z*y)},$16n:function(l){return new Ep(this.x/l,this.y/l,this.z/l)},$23n:function(h){return this.x*h.x+this.y*h.y+this.z*h.z},lerp:function(R,h){return this.$20n(R.$13n(this).$21n(h))},length:function(){return d(this.$23n(this))},$14n:function(){return this.$16n(this.length())},$12n:function(j){var M=this;return new Ep(M.y*j.z-M.z*j.y,M.z*j.x-M.x*j.z,M.x*j.y-M.y*j.x)}};var Cl=function($,k,Y){var a=this;a.$24n=new Ep($),a.$22n=new Ep(k),a.uv=Y?new Ep(Y):null};Cl.prototype={clone:function(){var Z=this;return new Cl(Z.$24n.clone(),Z.$22n.clone(),Z.uv?Z.uv.clone():null)},flip:function(){this.$22n=this.$22n.$11n()},$18n:function(h,V){var g=this;return new Cl(g.$24n.lerp(h.$24n,V),g.$22n.lerp(h.$22n,V),g.uv?g.uv.lerp(h.uv,V):null)}};var mj=function(X,G){this.$22n=X,this.w=G};mj.$17n=function(Y,e,n){var R=e.$13n(Y).$12n(n.$13n(Y)).$14n();return new mj(R,R.$23n(Y))},mj.prototype={clone:function(){return new mj(this.$22n.clone(),this.w)},flip:function(){var H=this;H.$22n=H.$22n.$11n(),H.w=-H.w},$5n:function(w,$,p,M,f){for(var G=this,z=0,X=1,m=2,d=3,b=0,L=[],l=0;l<w.$9n.length;l++){var n=G.$22n.$23n(w.$9n[l].$24n)-G.w,a=-r>n?m:n>r?X:z;b|=a,L.push(a)}switch(b){case z:(G.$22n.$23n(w.$8n.$22n)>0?$:p).push(w);break;case X:M.push(w);break;case m:f.push(w);break;case d:for(var h=[],V=[],l=0;l<w.$9n.length;l++){var v=(l+1)%w.$9n.length,t=L[l],j=L[v],K=w.$9n[l],D=w.$9n[v];if(t!=m&&h.push(K),t!=X&&V.push(t!=m?K.clone():K),(t|j)==d){var n=(G.w-this.$22n.$23n(K.$24n))/G.$22n.$23n(D.$24n.$13n(K.$24n)),F=K.$18n(D,n);h.push(F),V.push(F.clone())}}h.length>=3&&M.push(new fb(h,w.$10n)),V.length>=3&&f.push(new fb(V,w.$10n))}}};var fb=function(S,K){var h=this;h.$9n=S,h.$10n=K,h.$8n=mj.$17n(S[0].$24n,S[1].$24n,S[2].$24n)};fb.prototype={clone:function(){var L=this.$9n.map(function(W){return W.clone()});return new fb(L,this.$10n)},flip:function(){this.$9n.reverse().map(function(t){t.flip()}),this.$8n.flip()}};var Qb=function(E){var G=this;G.$8n=null,G.front=null,G.back=null,G.$4n=[],E&&G.$7n(E)};Qb.prototype={clone:function(){var W=this,N=new Qb;return N.$8n=W.$8n&&W.$8n.clone(),N.front=W.front&&W.front.clone(),N.back=W.back&&W.back.clone(),N.$4n=W.$4n.map(function(Z){return Z.clone()}),N},$6n:function(){for(var m=this,p=0;p<m.$4n.length;p++)m.$4n[p].flip();m.$8n.flip(),m.front&&m.front.$6n(),m.back&&m.back.$6n();var I=m.front;m.front=m.back,m.back=I},$1n:function(E){var L=this;if(!L.$8n)return E.slice();for(var w=[],e=[],D=0;D<E.length;D++)L.$8n.$5n(E[D],w,e,w,e);return L.front&&(w=L.front.$1n(w)),e=L.back?L.back.$1n(e):[],w.concat(e)},$3n:function(Q){var y=this;y.$4n=Q.$1n(y.$4n),y.front&&y.front.$3n(Q),y.back&&y.back.$3n(Q)},$2n:function(){var m=this,s=m.$4n.slice();return m.front&&(s=s.concat(m.front.$2n())),m.back&&(s=s.concat(m.back.$2n())),s},$7n:function(K){var j=this;if(K.length){j.$8n||(j.$8n=K[0].$8n.clone());for(var d=[],t=[],F=0;F<K.length;F++)this.$8n.$5n(K[F],j.$4n,j.$4n,d,t);d.length&&(j.front||(j.front=new Qb),this.front.$7n(d)),t.length&&(j.back||(j.back=new Qb),j.back.$7n(t))}}};var Rb="symbol",Ol=b.Symbol=function($,o,z){var A=this;t(Ol,A),A.s3(20,20,20),A.s({"all.visible":!1,shape:"rect"}),A.setIcon($,o,z)};L("Symbol",p,{setIcon:function(U,C,c){var m,R=this;return Ol.superClass.setIcon.call(R,U),U?(m={for3d:!0,face:"center",position:44,names:[U]},c&&(m.transaprent=!0),C&&(m.autorotate=C),R.addStyleIcon(Rb,m)):R.removeStyleIcon(Rb),R.setWidth(Q.getImageWidth(u.getImage(U),R)||20),m}});var Nj=b.CSGNode=function(){t(Nj,this),this.s({shape:"rect","attach.thickness":1.001})},Gp={position:1,width:1,height:1,rotation:1,rotationX:1,rotationZ:1,rotationMode:1,tall:1,elevation:1,"s:attach.cull":1,"s:attach.operation":1};L("CSGNode",p,{_22Q:function(){return Xd},onPropertyChanged:function(R){var N=this,Y=N.getHost();Nj.superClass.onPropertyChanged.call(N,R),Gp[R.property]&&(Y instanceof wq||Y instanceof Nj)&&Y.fp("csgNodeChange",!0,!1)}});var Xd=function(b,P){t(Xd,this,[b,P])};c(Xd,n.Node3dUI,{_80o:function(V,z,K){var _=this;_._shape3d?Xd.superClass._80o.call(_,V,z,K):(e(_.gv),le.forEach(function(e){i(_,V,z,_[e],K)}))},validate:function(H,m){var X=this,M=X.gv,c=X.data;if(c.s("shape3d"))return Xd.superClass.validate.call(X,H,m),X._shape3d=!0,void 0;X._shape3d=!1;var U=F(c,M.getMat(c)),l=H&&H.uv;X.vf2("csg",l);for(var w=0;6>w;w++)for(var Q=vm[w],i=Uf[w],q=X.vf2(Q,l,m),j=q.mat||U,k=q.vs,g=q.uv,Y=q.tuv,N=0;2>N;N++){var B=_[i+3*N],u=_[i+3*N+1],C=_[i+3*N+2];if(O(k,j,[Z[3*B],Z[3*B+1],Z[3*B+2]]),O(k,j,[Z[3*u],Z[3*u+1],Z[3*u+2]]),O(k,j,[Z[3*C],Z[3*C+1],Z[3*C+2]]),Y)if(g){var L=8*w;Y.push(g[2*B-L],g[2*B+1-L],g[2*u-L],g[2*u+1-L],g[2*C-L],g[2*C+1-L])}else Y.push(o[2*B],o[2*B+1],o[2*u],o[2*u+1],o[2*C],o[2*C+1])}ad(X,H,m)},vf2:function(x,m,B){var K,l=this,X=l.gv.getFaceVisible(l.data,x);return K=G(l,x,B),K.vs=[],K.tuv=X&&(K.texture||m)?[]:N,K.visible=X,K}});var wq=b.CSGShape=function(){var i=this;t(wq,i),i.s({"shape.background":N,"shape.border.width":8}),i.setTall(240),i.setElevation(120),i.setThickness(14)};L("CSGShape",k,{IRotatable:!1,_22Q:function(){return Ah},setRotationX:function(){},setRotation:function(){},setRotationZ:function(){},setSegments:function(){}});var Ah=function(I,E){t(Ah,this,[I,E])};c(Ah,n.Shape3dUI,{_80o:function(T,N,P){var c=this;c.undrawable||(e(c.gv),le.forEach(function(v){i(c,T,N,c[v],P)}))},validate:function(h,k){var $=this,j=$.data,F=j.getPoints();if($.undrawable=F.size()<2)return $.clear(),void 0;var Z=j.isClosePath(),t=v(j._thickness/2,r),S=w(F,N,N,Z);le.forEach(function(u){$.vf(u,h&&h.uv,!0,k)}),Z&&($.left.visible=!1,$.right.visible=!1),$._12O(S,t),$._20Q(S),ad($,h,k)}});var ii=b.DoorWindow=function(){var M=this;t(ii,M),M.setElevation(100),M.s3(100,200,14)};L("DoorWindow",Nj,{IDoorWindow:!0,toggle:function(D){this.setExpanded(!this.s(j),D)},isExpanded:function(){return this.s(j)},setExpanded:function(l,X){var M=this,d=M.$25n,h=M.getDataModel(),v=M.s(j);if(d&&(d.stop(!0),delete M.$25n),v!==l){h&&h.beginTransaction();var x=l?M.s("dw.end"):M.s("dw.start");M.s(j,l),X=T(X),X?(v=M.s(U),X.action=function(o){M.s(U,v+(x-v)*o)},X.finishFunc=function(){h&&h.endTransaction()},M.$25n=J(X)):(M.s(U,x),h&&h.endTransaction())}},getMat:function(){var B=this,S=B.s("dw.s3"),e=B.s("dw.t3"),p=B.s("dw.flip"),M=B.s(U);if(S||M||e||p){var n=[];if(p&&n.push({r3:[0,I,0]}),S&&n.push({s3:S}),M){S=B.s3();var z=B.s("dw.axis"),b=S[0]/2,F=S[1]/2;S[2]/2,z===f?n.push({t3:[b,0,0]},{r3:[0,-M,0]},{t3:[-b,0,0]}):z===h?n.push({t3:[-b,0,0]},{r3:[0,M,0]},{t3:[b,0,0]}):z===E?n.push({t3:[0,-F,0]},{r3:[-M,0,0]},{t3:[0,F,0]}):z===Y?n.push({t3:[0,F,0]},{r3:[M,0,0]},{t3:[0,-F,0]}):z===P?n.push({r3:[0,M,0]}):z===s&&n.push({r3:[M,0,0]})}return e&&n.push({t3:e}),C(n)}return N}});var Gb=b.CSGBox=function(){var B=this;t(Gb,B),B.setElevation(100),B.s3(100,200,100)};L("CSGBox",Nj,{ICSGBox:!0,toggleFace:function(v,o){this.setFaceExpanded(v,!this.s(v+K),o)},isFaceExpanded:function(Q){return this.s(Q+K)},setFaceExpanded:function(x,V,g){var v=this,Q=v.$25n,t=v.s(x+K);if(Q&&(Q.stop(!0),delete v.$25n),t!==V){var G=V?v.s(x+".end"):v.s(x+".start");v.s(x+K,V),g=T(g),g?(t=v.s(x+a),g.action=function(c){v.s(x+a,t+(G-t)*c)},v.$25n=J(g)):v.s(x+a,G)}},getFaceMat:function(v){var x=this,I=x.s(v+a);if(!I)return N;var Q=x.s(v+".axis"),X=x.s3(),M=X[0]/2,U=X[1]/2,F=X[2]/2,t=[];return v===z&&(Q===f?t.push({t3:[M,0,-F]},{r3:[0,-I,0]},{t3:[-M,0,F]}):Q===h?t.push({t3:[-M,0,-F]},{r3:[0,I,0]},{t3:[M,0,F]}):Q===E?t.push({t3:[0,-U,-F]},{r3:[-I,0,0]},{t3:[0,U,F]}):Q===Y?t.push({t3:[0,U,-F]},{r3:[I,0,0]},{t3:[0,-U,F]}):Q===P?t.push({t3:[0,0,-F]},{r3:[0,I,0]},{t3:[0,0,F]}):Q===s&&t.push({t3:[0,0,-F]},{r3:[I,0,0]},{t3:[0,0,F]})),v===S&&(Q===f?t.push({t3:[-M,0,F]},{r3:[0,-I,0]},{t3:[M,0,-F]}):Q===h?t.push({t3:[M,0,F]},{r3:[0,I,0]},{t3:[-M,0,-F]}):Q===E?t.push({t3:[0,-U,F]},{r3:[I,0,0]},{t3:[0,U,-F]}):Q===Y?t.push({t3:[0,U,F]},{r3:[-I,0,0]},{t3:[0,-U,-F]}):Q===P?t.push({t3:[0,0,F]},{r3:[0,I,0]},{t3:[0,0,-F]}):Q===s&&t.push({t3:[0,0,F]},{r3:[I,0,0]},{t3:[0,0,-F]})),v===f&&(Q===f?t.push({t3:[M,0,F]},{r3:[0,-I,0]},{t3:[-M,0,-F]}):Q===h?t.push({t3:[M,0,-F]},{r3:[0,I,0]},{t3:[-M,0,F]}):Q===E?t.push({t3:[M,-U,0]},{r3:[0,0,-I]},{t3:[-M,U,0]}):Q===Y?t.push({t3:[M,U,0]},{r3:[0,0,I]},{t3:[-M,-U,0]}):Q===P?t.push({t3:[M,0,0]},{r3:[0,I,0]},{t3:[-M,0,0]}):Q===s&&t.push({t3:[M,0,0]},{r3:[0,0,I]},{t3:[-M,0,0]})),v===h&&(Q===f?t.push({t3:[-M,0,-F]},{r3:[0,-I,0]},{t3:[M,0,F]}):Q===h?t.push({t3:[-M,0,F]},{r3:[0,I,0]},{t3:[M,0,-F]}):Q===E?t.push({t3:[-M,-U,0]},{r3:[0,0,I]},{t3:[M,U,0]}):Q===Y?t.push({t3:[-M,U,0]},{r3:[0,0,-I]},{t3:[M,-U,0]}):Q===P?t.push({t3:[-M,0,0]},{r3:[0,I,0]},{t3:[M,0,0]}):Q===s&&t.push({t3:[-M,0,0]},{r3:[0,0,I]},{t3:[M,0,0]})),v===E&&(Q===f?t.push({t3:[M,-U,0]},{r3:[0,0,I]},{t3:[-M,U,0]}):Q===h?t.push({t3:[-M,-U,0]},{r3:[0,0,-I]},{t3:[M,U,0]}):Q===E?t.push({t3:[0,-U,F]},{r3:[-I,0,0]},{t3:[0,U,-F]}):Q===Y?t.push({t3:[0,-U,-F]},{r3:[I,0,0]},{t3:[0,U,F]}):Q===P?t.push({t3:[0,-U,0]},{r3:[0,0,I]},{t3:[0,U,0]}):Q===s&&t.push({t3:[0,-U,0]},{r3:[I,0,0]},{t3:[0,U,0]})),v===Y&&(Q===f?t.push({t3:[M,U,0]},{r3:[0,0,-I]},{t3:[-M,-U,0]}):Q===h?t.push({t3:[-M,U,0]},{r3:[0,0,I]},{t3:[M,-U,0]}):Q===E?t.push({t3:[0,U,-F]},{r3:[-I,0,0]},{t3:[0,-U,F]}):Q===Y?t.push({t3:[0,U,F]},{r3:[I,0,0]},{t3:[0,-U,-F]}):Q===P?t.push({t3:[0,U,0]},{r3:[0,0,I]},{t3:[0,-U,0]}):Q===s&&t.push({t3:[0,U,0]},{r3:[I,0,0]},{t3:[0,-U,0]})),C(t)}})}("undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:(0,eval)("this"),Object);