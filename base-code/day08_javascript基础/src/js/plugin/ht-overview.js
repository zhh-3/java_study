!function(y,E){"use strict";var M="ht",d=M+".graph.",J=y[M],i=J.graph,H=J.Default,f=J.Color,c=null,o="px",F=H.getInternal(),S=F.getPinchDist,N=H.preventDefault,g=H.getTouchCount,W=H.startDragging;F.addMethod(H,{overviewBackground:f.widgetBackground,overviewMaskBackground:f.transparent,overviewContentBorderColor:f.widgetBorder,overviewContentBackground:f.background},!0),i.Overview=function(h){var Z=this,o=Z._view=F.createView(1,Z);Z._canvas=F.createCanvas(o),o.style.background=H.overviewBackground,o.appendChild(Z._mask=F.createDiv()),Z.setGraphView(h),Z.addListeners()},H.def(d+"Overview",E,{ms_v:1,ms_fire:1,ms_listener:1,ms_ac:["maskBackground","contentBorderColor","contentBackground","autoUpdate","fixToRect"],_autoUpdate:!0,_fixToRect:!1,_rate:1,_scrollRect:{x:0,y:0,width:0,height:0},_maskBackground:H.overviewMaskBackground,_contentBorderColor:H.overviewContentBorderColor,_contentBackground:H.overviewContentBackground,getGraphView:function(){return this.gv},setGraphView:function(m){var U=this;if(U.gv!==m){var z=U.gv;U.gv=m,z&&(z.removeViewListener(U.handleGraphViewChanged,U),z.ump(U.handleGraphViewPropertyChanged,U)),m&&(m.addViewListener(U.handleGraphViewChanged,U),m.mp(U.handleGraphViewPropertyChanged,U)),U.fp("graphView",z,m),U.redraw()}},getCanvas:function(){return this._canvas},getMask:function(){return this._mask},dispose:function(){this.setGraphView(null)},onPropertyChanged:function(){this.redraw()},handleGraphViewChanged:function(C){this._autoUpdate&&"validate"===C.kind&&this.redraw()},handleGraphViewPropertyChanged:function(n){("canvasBackground"===n.property||this.getFixToRect()&&("zoom"===n.property||"translateX"===n.property||"translateY"===n.property))&&this.redraw()},redraw:function(){var e=this;e._redraw||(e._redraw=1,e.iv(50))},validateImpl:function(){var n=this,Y=n.gv,J=n._canvas,k=n.getWidth(),E=n.getHeight(),h=n._redraw;if(Y){var M=n._mask,A=M.style,R=Y.getViewRect(),V=this.getFixToRect(),t=V?"boolean"==typeof V?Y.getContentRect():V:Y.getScrollRect(),a=t.x,z=t.y,p=t.width,K=t.height,f=n._rate=Math.max(p/k,K/E),m=n._x=(k-p/f)/2,i=n._y=(E-K/f)/2;if(0!==R.width&&0!==R.height||n.hasRetry||(H.callLater(n.iv,n,c),n.hasRetry=!0),(k!==J.clientWidth||E!==J.clientHeight)&&(F.setCanvas(J,k,E),h=1),F.isSameRect(t,n._scrollRect)||(n._scrollRect=t,h=1),h){var U=F.initContext(J),g=Y.getDataModel().getBackground()||n._contentBackground,C=n._contentBorderColor,u=H.devicePixelRatio;U.clearRect(0,0,k*u,E*u),g&&F.fillRect(U,m*u,i*u,p/f*u,K/f*u,g),F.translateAndScale(U,-a/f+m,-z/f+i,1/f),Y._42(U),U.restore(),C&&F.drawBorder(U,C,m*u,i*u,p/f*u,K/f*u)}A.background=n._maskBackground,A.left=m+(R.x-a)/f+o,A.top=i+(R.y-z)/f+o,A.width=R.width/f+o,A.height=R.height/f+o,n._redraw=null}else if(h){var U=F.initContext(J);U.clearRect(0,0,k,E),U.restore(),n._redraw=null}},center:function(U){var p=this,z=p.gv;if(z){var l=z._zoom,m=z._29I,N=p._rate,u=p._scrollRect,s=H.getLogicalPoint(U,p._canvas),y=u.x+(s.x-p._x)*N,c=u.y+(s.y-p._y)*N;z.setTranslate((m.width/2-y)*l,(m.height/2-c)*l)}},handle_mousedown:function(U){this.handle_touchstart(U)},handleWindowMouseUp:function(Q){this.handleWindowTouchEnd(Q)},handleWindowMouseMove:function(M){this.handleWindowTouchMove(M)},handle_mousewheel:function(A){this.handleScroll(A,A.wheelDelta)},handle_DOMMouseScroll:function(N){2===N.axis&&this.handleScroll(N,-N.detail)},handleScroll:function($,K){if(N($),this.gv){var m=this.gv;K>0?m.scrollZoomIn():0>K&&m.scrollZoomOut()}},handle_touchstart:function(Q){if(N(Q),this.gv&&H.isLeftButton(Q)){var q=this,E=q.gv,r=g(Q);1===r?H.isDoubleClick(Q)&&E.isResettable()?E.reset():(q.center(Q),W(q,Q)):2===r&&(q._dist=S(Q),W(q,Q))}},handleWindowTouchEnd:function(){delete this._dist},handleWindowTouchMove:function(q){if(this.gv){var E=this,k=E._dist,z=g(q);1===z?E.center(q):2===z&&k!=c&&E.gv.handlePinch(c,S(q),k)}}})}("undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:(0,eval)("this"),Object);