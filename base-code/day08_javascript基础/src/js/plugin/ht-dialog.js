!function(c,g){"use strict";var V="ht",n=c[V],R="px",j="left",Y="top",H="bottom",o="right",p="innerHTML",N="className",h="",G="width",K="height",y="string",M="position",q="absolute",x="0",m="opacity",Q="background",k=n.Default,v=k.getInternal(),t=n.Color,A=k.animate,C=k.isTouchable,T=null,w=(Math.sqrt,c.parseInt),b=c.setTimeout,X=(Math.round,t.titleIconBackground),J=function(p){return typeof p===y||p instanceof String},s=function(){return document},U=function(T){return s().createElement(T)},E=function(){var d=U("div");return d.tabIndex=-1,d.style.outline="none",d},S=function(){return U("canvas")},f=function(s,t){B(s,"-webkit-transform",t),B(s,"-ms-transform",t),B(s,"transform",t)},B=function(t,O,M){t.style.setProperty(O,M,T)},W=function(F,h,d){k.def(n.widget[F],h,d)},F=function(j,O){j.appendChild(O)},P=function(){return s().documentElement},_=function(){return P().clientWidth},l=function(){return P().clientHeight},O=k.eventListenerOptionsFalse,u=(k.eventListenerOptionsTrue,function(A,i,E,f){A.addEventListener(i,E,f?O:O)}),d=function(p,A,g,R){p.removeEventListener(A,g,R?O:O)},I=function(r){var f=r.touches[0];return f?f:r.changedTouches[0]};v.addMethod(k,{dialogCloseIcon:{width:100,height:100,comps:[{type:"shape",points:[10,10,90,90],segments:[1,2],borderWidth:8,borderColor:X},{type:"shape",points:[90,10,10,90],segments:[1,2],borderWidth:8,borderColor:X}]},dialogMaximizeIcon:{width:100,height:100,comps:[{type:"rect",rect:[10,15,80,75],borderWidth:6,borderColor:X},{type:"rect",rect:[10,10,80,20],background:X}]},dialogRestoreIcon:{width:100,height:100,comps:[{type:"rect",rect:[10,34,56,56],borderWidth:8,borderColor:X},{type:"rect",rect:[10,34,56,14],background:X},{type:"rect",rect:[34,10,56,14],background:X},{type:"rect",rect:[82,10,8,56],background:X},{type:"rect",rect:[66,62,24,8],background:X}]},dialogTitleLabelColor:k.labelSelectColor,dialogTitleLabelFont:(C?"18":"14")+"px arial, sans-serif",dialogContentLabelFont:k.labelFont,dialogTitleBackground:t.titleBackground,dialogHeaderBackground:t.headerBackground,dialogButtonBackground:"#1ABC9C",dialogButtonSelectBackground:"#16A085",dialogButtonLabelColor:"#fff"},!0);var D=function(C){var W=this;W.$1d=C,W.addListeners()};k.def(D,g,{ms_listener:1,getView:function(){return this.$1d.getView()},clear:function(){delete this.$2d,delete this.$3d,delete this.$4d,delete this.$5d},handle_touchstart:function(E){var P=this,b=P.$1d,Z=b.$6d,$=b._config,J=b.$7d,L=E,O=E.target;if(J.contains(O)||k.preventDefault(E),k.isLeftButton(E)){C&&(L=I(E));var n=P.$8d={x:L.pageX,y:L.pageY};P.$9d={x:n.x,y:n.y},!$.maximized&&$.draggable&&Z.contains(O)&&(P.$4d=!0,k.startDragging(P,E)),P.handle_mousemove(E)&&(P.$2d=!0,k.startDragging(P,E)),J.contains(E.target)||b.$41d.focus()}},handle_mousedown:function(Y){this.handle_touchstart(Y)},handle_touchend:function(q){if(k.isLeftButton(q)&&!this.$5d&&!this.$3d){var v=this,M=v.$1d,B=q.target,W=M._config,c=M.$18d,Q=M.$16d;for(W.closable&&c.contains(B)&&M.hide(),W.maximizable&&Q.contains(B)&&(W.maximized?M.restore():M.maximize());B&&(B.className||"").indexOf("dialog-button")<0;)B=B.parentNode;B&&B.buttonItem&&M.action&&M.action(B.buttonItem,q),delete v.$8d,delete v.$9d}},handle_mouseup:function(k){this.handle_touchend(k)},handleWindowTouchEnd:function(d){var u=this,W=u.$1d,V=W.$10d;u.$2d&&u.$3d?V.fire({kind:"endResize",target:W,originEvent:d}):u.$4d&&u.$5d&&V.fire({kind:"endMove",target:W,originEvent:d}),this.clear()},handleWindowMouseUp:function(q){this.handleWindowTouchEnd(q)},handle_mousemove:function(f){var a=this.$1d._config;if(a.maximized)return!1;if("w"!==a.resizeMode&&"h"!==a.resizeMode&&"wh"!==a.resizeMode)return!1;var m=this,Q=m.getView(),t=Q.querySelector(".resize-area"),T=t.getBoundingClientRect(),z={x:T.left,y:T.top,width:T.width,height:T.height};f=C?I(f):f;var Z=f.clientX,b=f.clientY,W={x:Z,y:b};return k.containsPoint(z,W)?(B(Q,"cursor","nwse-resize"),!0):(B(Q,"cursor",h),void 0)},handleWindowTouchMove:function(d){d.preventDefault();var Z=d;C&&(Z=I(d));var N=this,S=N.$8d,x=N.$9d;if(!(x.x==S.x&&x.y==S.y&&k.getDistance(x,{x:Z.pageX,y:Z.pageY})<=1)){var z=N.$1d,X=z._config,b=z.$21d,q=X.resizeMode||"wh",M=Z.pageX-S.x,s=Z.pageY-S.y;if(N.$2d){var W=b.offsetWidth,$=b.offsetHeight,A=W+M,J=$+s;if(A=Math.max(A,50),J=Math.max(J,50),"center"===X.position||X.position==T){var F={},E=b.getBoundingClientRect();F.x=E.left,F.y=E.top,X.position=F}"w"===q?(z.setSize(A,$),S.x+=A-W):"h"===q?(z.setSize(W,J),S.y+=J-$):"wh"===q&&(z.setSize(A,J),S.x+=A-W,S.y+=J-$),N.$3d?z.$10d.fire({kind:"betweenResize",target:z,originEvent:d}):(N.$3d=!0,z.$10d.fire({kind:"beginResize",target:z,originEvent:d}))}else if(N.$4d){var V=b.getBoundingClientRect(),v=V.width,t=V.height,G=_(),K=l(),h=w(b.style.left)||0,m=w(b.style.top)||0,o=h+M,D=m+s,P=z.adjustPosition({x:o,y:D},{width:v,height:t},{width:G,height:K});P&&(o=P.x,D=P.y);var u=o-h,g=D-m;B(b,j,o+R),B(b,Y,D+R),S.x+=u,S.y+=g,X.position={x:o,y:D},N.$5d?z.$10d.fire({kind:"betweenMove",target:z,originEvent:d}):(N.$5d=!0,z.$10d.fire({kind:"beginMove",target:z,originEvent:d}))}}},handleWindowMouseMove:function(k){this.handleWindowTouchMove(k)},handleWindowResize:function(){var A=this,e=A,W=e._config,b=e.$21d,g=_(),L=l(),D=W.width,P=W.height,v=W.position||"center";W.maximized?(B(b,G,g+R),B(b,K,L+R),B(b,Y,x),B(b,j,x)):(B(b,G,D+R),B(b,K,P+R),"center"===v?(B(b,j,(g-D)/2+R),B(b,Y,(L-P)/2+R)):(B(b,j,v.x+R),B(b,Y,v.y+R))),e.iv()},handle_mousewheel:function(F){F.stopPropagation()},handle_DOMMouseScroll:function(e){e.stopPropagation()}}),n.widget.Dialog=function(g){var Y=this,L=Y._view=v.createView(null,Y);L[N]="ht-widget-dialog",B(L,M,q),k.baseZIndex!=T&&B(L,"z-index",k.baseZIndex+"");var S=Y.$11d=new D(Y);Y.bindingHandleWindowResize=S.handleWindowResize.bind(Y),Y.$10d=new n.Notifier,g&&Y.setConfig(g)},W("Dialog",g,{ms_v:1,setTitle:function(O){this._config.title=O,this.getView().querySelector(".dialog-container-title span").innerHTML=O},clearNodes:function(j){if(j)for(;j.firstChild;)j.removeChild(j.firstChild)},$31d:function(){var P=this,h=P.$6d=E(),z=P._config,c=P.$12d=P.$13d();h[N]="dialog-container-title",B(h,"cursor","default"),B(h,"white-space","nowrap"),B(h,"overflow","hidden"),B(h,"font",k.dialogTitleLabelFont),B(h,Q,z.titleBackground||k.dialogTitleBackground),B(h,"color",z.titleColor||k.dialogTitleLabelColor);var A=U("span"),r=P.$25d();if(z.titleAlign&&B(h,"text-align",z.titleAlign),z.titleIcon){var v=P.$14d=P.$15d();F(h,v)}if(z.title&&z.title.trim&&(z.title=z.title.trim()),A[p]=z.title||"&nbsp;",F(h,A),z.maximizable){var T=P.$16d=P.$17d();F(c,T)}if(z.closable){var Y=P.$18d=P.$19d();F(c,Y)}return F(h,c),B(h,"display","block"),B(h,"line-height",r+R),h},$13d:function(){var Q=E();return B(Q,M,q),B(Q,j,x),B(Q,o,5+R),B(Q,Y,x),B(Q,H,x),B(Q,"text-align",o),B(Q,"white-space","nowrap"),Q[N]="dialog-title-controls",Q},$20d:function(){var f=this.$21d=E(),_=this._config,h=_.borderWidth;return B(f,M,"fixed"),B(f,"box-shadow","rgba(0, 0, 0, 0.2) 0px 5px 10px 0px"),B(f,"padding",x+" "+h+R+" "+h+R+" "+h+R),B(f,"box-sizing","border-box"),B(f,"-moz-box-sizing","border-box"),f[N]="dialog-container",B(f,Q,_.titleBackground||k.dialogTitleBackground),f},$22d:function(){var v,u=this,e=u._config,A=u.$7d=E(),c=e.content,Z=0,D=e.contentPadding||0;e.buttons!=T&&e.buttons.length>0&&(Z=32),J(c)?A[p]=c:c.getView?(v=c.getView(),F(A,v)):(v=c,F(A,v)),B(A,M,q),B(A,"font",k.dialogContentLabelFont),n.Default.appendToScreen(A);var V=A.offsetWidth+1,x=A.offsetHeight,O=u.$25d();return e.width==T&&(e.width=V+10+2*D),e.height==T&&(e.height=x+O+Z+5+2*D),n.Default.removeHTML(A),v&&(B(v,"box-sizing","border-box"),B(v,"-moz-box-sizing","border-box"),B(v,G,"100%"),B(v,K,"100%")),A[N]="dialog-content",B(A,Y,O+D+R),B(A,H,Z+D+R),B(A,j,D+R),B(A,o,D+R),B(A,"overflow","hidden"),A},getOverlayDiv:function(){return this.$41d},$23d:function(){var f=this.$41d=E();return f[N]="dialog-overlay",B(f,G,"100%"),B(f,K,"100%"),B(f,M,"fixed"),B(f,Y,x),B(f,j,x),B(f,Q,"rgba(235, 235, 235, 0.7)"),f},_config:T,setSize:function(r,o){var O=this,c=O._config;c&&(c.width=r,c.height=o,O.isShowing()&&(O.bindingHandleWindowResize(),O.iv()))},getConfig:function(){return this._config},$24d:function(){var V=this._config,S=V.titleIconSize||16;return C&&(S*=1.2),S},$25d:function(){var t=this._config,L=t.titleHeight||k.widgetTitleHeight;return L},$26d:function(u){B(u,"cursor","pointer"),B(u,"display","inline-block"),B(u,"margin-right",(C?8:4)+R),B(u,"vertical-align",Y)},$27d:function(){var I=this.$30d=E(),X=10;return C&&(X=20),B(I,G,X+R),B(I,K,X+R),B(I,M,q),B(I,H,x),B(I,o,x),I[N]="resize-area",I},$15d:function(){var E=this,t=S();t[N]="dialog-title-control dialog-title-control-icon";var I=E.$25d(),L=E.$24d();return E.$26d(t),v.setCanvas(t,L,I),t},$17d:function(){var m=S();m[N]="dialog-title-control dialog-title-control-maximize";var M=this.$25d(),y=this.$24d();return this.$26d(m),v.setCanvas(m,y,M),m},$19d:function(){var e=S();e[N]="dialog-title-control dialog-title-control-close";var u=this.$25d(),M=this.$24d();return this.$26d(e),v.setCanvas(e,M,u),e},$28d:function(){var i=E();return B(i,Q,"white"),B(i,G,"100%"),B(i,K,"100%"),B(i,M,"relative"),i},$29d:function(){var s=this,$=E();B($,"line-height",32+R),B($,M,q),B($,H,x),B($,j,x),B($,"white-space","nowrap"),B($,"overflow","hidden"),B($,o,x),B($,Q,k.dialogHeaderBackground),$[N]="dialog-container-buttons";var f=this._config,b=f.buttonsAlign||o,y=0;return B($,"text-align",b),s.$42d=[],f.buttons.forEach(function(Q){var m=new n.widget.Button,q=m.getView();q[N]="dialog-button "+Q.className,q.buttonItem=Q,s.$42d.push(m),m.setBorderColor(T),m.setBackground(k.dialogButtonBackground),m.setSelectBackground(k.dialogButtonSelectBackground),m.setLabelColor(k.dialogButtonLabelColor),B(q,M,"relative"),B(q,"display","inline-block"),B(q,"text-align",j),B(q,"height",24+R);var H=C?10:5;b===j||b===o?B(q,"margin-"+b,H+R):0===y||B(q,"margin-"+j,H+R),B(q,"vertical-align","middle");var e=k.getTextSize(m.getLabelFont(),Q.label).width+10;m.onClicked=function(r){Q.action&&Q.action.call(s,Q,r)},m.setLabel(Q.label),m.setDisabled(Q.disabled),B(q,G,e+R),F($,m.getView()),y++}),$},setConfig:function(M){if(M){var C=this,j=C._view;C._config=M,C.action=M.action,C.clearNodes(j),M.borderWidth==T&&(M.borderWidth=5);var O=C.$23d(),A=C.$28d(),e=C.$31d(),U=C.$22d(),w=C.$20d(),W=C.$30d=C.$27d();if(F(j,O),F(j,w),F(w,A),F(A,e),F(A,U),M.buttons!=T&&M.buttons.length>0){var E=C.$29d();F(A,E)}F(w,W),M.maximized?(M.maximized=!1,C.bindingHandleWindowResize(),C.maximize(!0)):C.bindingHandleWindowResize(),C.isShowing()&&C.iv()}},hide:function(){var O=this,w=O.$21d,F=O.$41d,P=O._view;P[N]="ht-widget-dialog",A(w).duration(200).scale(.7).set(m,x).end(function(){O.onHidden&&O.onHidden(),n.Default.removeHTML(P),O.$10d.fire({kind:"hide",target:O})}),A(F).duration(200).set(m,x).end(),d(c,"resize",O.bindingHandleWindowResize)},isShowing:function(){return!!this._view.parentNode},setModal:function(c){this.$41d.style.display=c?"block":"none"},isModal:function(){return"none"!==this.$41d.style.display},$32d:function(){var C=this,I=C._config,x=C.$21d;f(x,h),C.iv(),I.maximized?C.$10d.fire({kind:"maximize",target:C}):C.$10d.fire({kind:"restore",target:C})},maximize:function(q){var k=this,T=k.$21d,M=k._config;if(!M.maximized){M.maximized=!0,k.$33d(),k.$16d[N]="dialog-title-control dialog-title-control-minimize";var s=_(),F=l(),Q=M.width,S=M.height,f=w(T.style.left)||0,o=w(T.style.top)||0;k.$36d=Q,k.$37d=S,k.$34d=f,k.$35d=o;var X=q?0:200;A(T).duration(X).set(j,x).set(Y,x).set(G,s+R).set(K,F+R).end(function(){k.$32d()})}},restore:function(){var o=this,m=o.$34d,l=o.$35d,Z=o.$36d,e=o.$37d,J=o._config;if(J.maximized&&(J.maximized=!1,o.$33d(),o.$16d[N]="dialog-title-control dialog-title-control-maximize",o.isShowing()&&m!=T&&l!=T&&Z!=T&&e!=T)){var n=o.$21d;A(n).duration(200).set(j,m+R).set(Y,l+R).set(G,Z+R).set(K,e+R).end(function(){o.$32d()})}delete o.$34d,delete o.$35d,delete o.$36d,delete o.$37d},show:function(){var w=this,I=w._view,s=w._config,p=w.$21d,O=w.$41d;s&&s.zIndex!=T&&B(I,"z-index",s.zIndex+h),n.Default.appendToScreen(I),f(p,"scale(0.7)"),B(p,m,x),w.iv(),w.validate(),w._view[N]+=" dialog-show",b(function(){A(p).duration(200).scale(1).set(m,"1").end(function(){B(p,G,p.clientWidth+R),B(p,K,p.clientHeight+R),w.onShown&&w.onShown(),w.$10d.fire({kind:"show",target:w})}),A(O).duration(200).set(m,"1").end(),u(c,"resize",w.bindingHandleWindowResize)},30)},setPosition:function(o){var m=this.$21d;m.style.left=o.x+"px",m.style.top=o.y+"px"},addEventListener:function(O,m,r){this.$10d.add(O,m,r)},removeEventListener:function(V,q){this.$10d.remove(V,q)},$38d:function(M,P,K,q){var N=v.initContext(M);v.translateAndScale(N,0,0,1),N.clearRect(0,0,K,K);var y=(K-q)/2;k.drawStretchImage(N,k.getImage(P),"fill",0,y,q,q),N.restore()},$33d:function(){var F=this,T=F._config,c=F.$16d,E=T.maximized?k.dialogRestoreIcon:k.dialogMaximizeIcon;if(c&&E){var L=F.$25d(),a=F.$24d();F.$38d(c,k.getImage(E),L,a)}},$39d:function(){var W=this,l=W._config,u=W.$14d,I=l.titleIcon;if(u&&I){var s=W.$25d(),d=W.$24d();W.$38d(u,k.getImage(I),s,d)}},$40d:function(){var p=this,u=p.$18d,z=k.dialogCloseIcon;if(u&&z){var b=p.$25d(),q=p.$24d();p.$38d(u,k.getImage(z),b,q)}},invalidate:function(f){var K=this,P=K.$42d;K._68I||(K._68I=1,k.callLater(K.validate,K,T,f),K.onInvalidated&&K.onInvalidated(),K.fireViewEvent("invalidate"));var H=K._config.content;H.invalidate&&H.invalidate(),P&&P.forEach(function(w){w.iv()})},validateImpl:function(){var t=this;t.$40d(),t.$33d(),t.$39d();var J=t._config.content;J.initView&&(J.setX(0),J.setY(0),J.setWidth(t.$7d.clientWidth),J.setHeight(t.$7d.clientHeight))},adjustPosition:function($,e,M){var w=e.width,j=e.height,C=M.width,z=M.height,u=$.x,Z=$.y,V=this._config,r=V.minDragSize||20;return"inside"===V.dragMode?(u+w>C&&(u=C-w),Z+j>z&&(Z=z-j),0>u&&(u=0),0>Z&&(Z=0)):(null==V.dragMode||"none"===V.dragMode)&&(-w+r>u&&(u=-w+r),u>C-r&&(u=C-r),Z>z-r&&(Z=z-r),0>Z&&(Z=0)),{x:u,y:Z}}})}("undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:(0,eval)("this"),Object);